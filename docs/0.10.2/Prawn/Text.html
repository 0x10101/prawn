<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Module: Prawn::Text</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="module">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/prawn/text/box_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/prawn/text/box.rb">lib/prawn/text/box.rb</a></li>
					
						<li><a href="../lib/prawn/text/formatted/box_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/prawn/text/formatted/box.rb">lib/prawn/text/formatted/box.rb</a></li>
					
						<li><a href="../lib/prawn/text/formatted/fragment_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/prawn/text/formatted/fragment.rb">lib/prawn/text/formatted/fragment.rb</a></li>
					
						<li><a href="../lib/prawn/text/formatted/parser_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/prawn/text/formatted/parser.rb">lib/prawn/text/formatted/parser.rb</a></li>
					
						<li><a href="../lib/prawn/text_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/prawn/text.rb">lib/prawn/text.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">MODULE</span> <a href="Text/Formatted.html">Prawn::Text::Formatted</a></li>
					
					<li><span class="type">CLASS</span> <a href="Text/Box.html">Prawn::Text::Box</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-i-draw_indented_formatted_line">#draw_indented_formatted_line</a></li>
					
					<li><a href="#method-i-draw_indented_line">#draw_indented_line</a></li>
					
					<li><a href="#method-i-draw_remaining_formatted_text_on_new_pages">#draw_remaining_formatted_text_on_new_pages</a></li>
					
					<li><a href="#method-i-draw_remaining_text_on_new_pages">#draw_remaining_text_on_new_pages</a></li>
					
					<li><a href="#method-i-draw_text">#draw_text</a></li>
					
					<li><a href="#method-i-fill_formatted_text_box">#fill_formatted_text_box</a></li>
					
					<li><a href="#method-i-fill_text_box">#fill_text_box</a></li>
					
					<li><a href="#method-i-formatted_text">#formatted_text</a></li>
					
					<li><a href="#method-i-height_of">#height_of</a></li>
					
					<li><a href="#method-i-height_of_formatted">#height_of_formatted</a></li>
					
					<li><a href="#method-i-inspect_options_for_draw_text">#inspect_options_for_draw_text</a></li>
					
					<li><a href="#method-i-inspect_options_for_text">#inspect_options_for_text</a></li>
					
					<li><a href="#method-i-merge_text_box_positioning_options">#merge_text_box_positioning_options</a></li>
					
					<li><a href="#method-i-move_text_position">#move_text_position</a></li>
					
					<li><a href="#method-i-process_final_gap_option">#process_final_gap_option</a></li>
					
					<li><a href="#method-i-process_indent_paragraphs_option">#process_indent_paragraphs_option</a></li>
					
					<li><a href="#method-i-text">#text</a></li>
					
					<li><a href="#method-i-text_box">#text_box</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><a class="include" href="Core/Text.html">Prawn::Core::Text</a></li>
				
				
				
					<li><a class="include" href="Text/Formatted.html">Prawn::Text::Formatted</a></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../Prawn/Core/Text/Formatted/Wrap.html">Prawn::Core::Text::Formatted::Wrap</a></li>
				
					<li><a href="../Prawn/Document.html">Prawn::Document</a></li>
				
					<li><a href="../Prawn/Document/BoundingBox.html">Prawn::Document::BoundingBox</a></li>
				
					<li><a href="../Prawn/Document/GraphicsState.html">Prawn::Document::GraphicsState</a></li>
				
					<li><a href="../Prawn/Document/Internals.html">Prawn::Document::Internals</a></li>
				
					<li><a href="../Prawn/Document/PageGeometry.html">Prawn::Document::PageGeometry</a></li>
				
					<li><a href="../Prawn/Document/Security.html">Prawn::Document::Security</a></li>
				
					<li><a href="../Prawn/Document/Snapshot.html">Prawn::Document::Snapshot</a></li>
				
					<li><a href="../Prawn/Encoding.html">Prawn::Encoding</a></li>
				
					<li><a href="../Prawn/Errors.html">Prawn::Errors</a></li>
				
					<li><a href="../Prawn/Font.html">Prawn::Font</a></li>
				
					<li><a href="../Prawn/Font/AFM.html">Prawn::Font::AFM</a></li>
				
					<li><a href="../Prawn/Font/DFont.html">Prawn::Font::DFont</a></li>
				
					<li><a href="../Prawn/Font/TTF.html">Prawn::Font::TTF</a></li>
				
					<li><a href="../Prawn/Graphics.html">Prawn::Graphics</a></li>
				
					<li><a href="../Prawn/Graphics/CapStyle.html">Prawn::Graphics::CapStyle</a></li>
				
					<li><a href="../Prawn/Graphics/Color.html">Prawn::Graphics::Color</a></li>
				
					<li><a href="../Prawn/Graphics/Dash.html">Prawn::Graphics::Dash</a></li>
				
					<li><a href="../Prawn/Graphics/JoinStyle.html">Prawn::Graphics::JoinStyle</a></li>
				
					<li><a href="../Prawn/Graphics/Transformation.html">Prawn::Graphics::Transformation</a></li>
				
					<li><a href="../Prawn/Graphics/Transparency.html">Prawn::Graphics::Transparency</a></li>
				
					<li><a href="../Prawn/Images.html">Prawn::Images</a></li>
				
					<li><a href="../Prawn/Images/JPG.html">Prawn::Images::JPG</a></li>
				
					<li><a href="../Prawn/Images/PNG.html">Prawn::Images::PNG</a></li>
				
					<li><a href="../Prawn/Measurements.html">Prawn::Measurements</a></li>
				
					<li><a href="../Prawn/Outline.html">Prawn::Outline</a></li>
				
					<li><a href="../Prawn/Stamp.html">Prawn::Stamp</a></li>
				
					<li><a href="../Prawn/Table.html">Prawn::Table</a></li>
				
					<li><a href="../Prawn/Table/Cell.html">Prawn::Table::Cell</a></li>
				
					<li><a href="../Prawn/Table/Cell/InTable.html">Prawn::Table::Cell::InTable</a></li>
				
					<li><a href="../Prawn/Table/Cell/Subtable.html">Prawn::Table::Cell::Subtable</a></li>
				
					<li><a href="../Prawn/Table/Cell/Text.html">Prawn::Table::Cell::Text</a></li>
				
					<li><a href="../Prawn/Table/CellProxy.html">Prawn::Table::CellProxy</a></li>
				
					<li><a href="../Prawn/Text.html">Prawn::Text</a></li>
				
					<li><a href="../Prawn/Text/Box.html">Prawn::Text::Box</a></li>
				
					<li><a href="../Prawn/Text/Formatted.html">Prawn::Text::Formatted</a></li>
				
					<li><a href="../Prawn/Text/Formatted/Box.html">Prawn::Text::Formatted::Box</a></li>
				
					<li><a href="../Prawn/Text/Formatted/Fragment.html">Prawn::Text::Formatted::Fragment</a></li>
				
					<li><a href="../Prawn/Text/Formatted/Parser.html">Prawn::Text::Formatted::Parser</a></li>
				
					<li><a href="../Arcfour.html">Arcfour</a></li>
				
					<li><a href="../Numeric.html">Numeric</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="module">Prawn::Text</h1>

		<div id="description">
			
		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="draw-text-method" class="method-detail ">
				<a name="method-i-draw_text"></a>

				<div class="method-heading">
				
					<span class="method-name">draw_text</span><span
						class="method-args">(text, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Draws text on the page, beginning at the point specified by the :at option
the string is assumed to be pre-formatted to properly fit the page.
</p>
<pre>
  pdf.draw_text &quot;Hello World&quot;, :at =&gt; [100,100]
  pdf.draw_text &quot;Goodbye World&quot;, :at =&gt; [50,50], :size =&gt; 16
</pre>
<p>
If your font contains kerning pair data that Prawn can parse, the text will
be kerned by default. You can disable kerning by including a false
<tt>:kerning</tt> option. If you want to disable kerning on an entire
document, set default_kerning = false for that document
</p>
<h3><a href="Text.html">Text</a> Positioning Details:</h3>
<p>
Prawn will position your text by the left-most edge of its baseline, and
flow along a single line.  (This means that :align will not work)
</p>
<h2>Rotation</h2>
<p>
<a href="Text.html">Text</a> can be rotated before it is placed on the
canvas by specifying the <tt>:rotate</tt> option with a given angle.
Rotation occurs counter-clockwise.
</p>
<h2><a href="Encoding.html">Encoding</a></h2>
<p>
Note that strings passed to this function should be encoded as UTF-8. If
you get unexpected characters appearing in your rendered document,  check
this.
</p>
<p>
If the current font is a built-in one, although the string must be encoded
as UTF-8, only characters that are available in WinAnsi are allowed.
</p>
<p>
If an empty box is rendered to your PDF instead of the character you 
wanted it usually means the current font doesn&#8217;t include that
character.
</p>
<h2>Options (default values marked in [])</h2>
<table>
<tr><td valign="top"><tt>:at</tt></td><td><p>
<tt>[x, y]</tt>(required). The position at which to start the text
</p>
</td></tr>
<tr><td valign="top"><tt>:kerning</tt></td><td><p>
<tt>boolean</tt>. Whether or not to use kerning (if it is available with
the current font)
</p>
<dl>
<dt>value of default_kerning?</dt><dd></dd>
</dl>
</td></tr>
<tr><td valign="top"><tt>:size</tt></td><td><p>
<tt>number</tt>. The font size to use. [current font size]
</p>
</td></tr>
<tr><td valign="top"><tt>:style</tt></td><td><p>
The style to use. The requested style must be part of the current font
familly. [current style]
</p>
</td></tr>
<tr><td valign="top"><tt>:rotate</tt></td><td><p>
<tt>number</tt>. The angle to which to rotate text
</p>
</td></tr>
</table>
<h2>Exceptions</h2>
<p>
Raises <tt>ArgumentError</tt> if <tt>:at</tt> option omitted
</p>
<p>
Raises <tt>ArgumentError</tt> if <tt>:align</tt> option included
</p>
					

					
					<div class="method-source-code"
						id="draw-text-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 257</span>
257:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">draw_text</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>)
258:       <span class="ruby-comment cmt"># we modify the options. don't change the user's hash</span>
259:       <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
260:       <span class="ruby-identifier">inspect_options_for_draw_text</span>(<span class="ruby-identifier">options</span>)
261:       <span class="ruby-comment cmt"># dup because normalize_encoding changes the string</span>
262:       <span class="ruby-identifier">text</span> = <span class="ruby-identifier">text</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">dup</span>
263:       <span class="ruby-identifier">save_font</span> <span class="ruby-keyword kw">do</span>
264:         <span class="ruby-identifier">process_text_options</span>(<span class="ruby-identifier">options</span>)
265:         <span class="ruby-identifier">font</span>.<span class="ruby-identifier">normalize_encoding!</span>(<span class="ruby-identifier">text</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@skip_encoding</span>
266:         <span class="ruby-identifier">font_size</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:size</span>]) { <span class="ruby-identifier">draw_text!</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>) }
267:       <span class="ruby-keyword kw">end</span>
268:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="formatted-text-method" class="method-detail ">
				<a name="method-i-formatted_text"></a>

				<div class="method-heading">
				
					<span class="method-name">formatted_text</span><span
						class="method-args">(array, options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Draws formatted text to the page. <a
href="Text/Formatted.html">Formatted</a> text is comprised of an array of
hashes, where each hash defines text and format information. See <a
href="Text/Formatted.html#method-i-formatted_text_box">Text::Formatted#formatted_text_box</a>
for more information on the structure of this array
</p>
<h2>Example</h2>
<pre>
  text([{ :text =&gt; &quot;hello&quot; },
        { :text =&gt; &quot;world&quot;,
          :size =&gt; 24,
          :style =&gt; [:bold, :italic] }])
</pre>
<h2>Options</h2>
<p>
Accepts the same options as <a href="Text.html#method-i-text">#</a>
</p>
<h2>Exceptions</h2>
<p>
Same as for <a href="Text.html#method-i-text">#</a>
</p>
					

					
					<div class="method-source-code"
						id="formatted-text-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 178</span>
178:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">formatted_text</span>(<span class="ruby-identifier">array</span>, <span class="ruby-identifier">options</span>={})
179:       <span class="ruby-comment cmt"># we modify the options. don't change the user's hash</span>
180:       <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
181: 
182:       <span class="ruby-identifier">inspect_options_for_text</span>(<span class="ruby-identifier">options</span>)
183: 
184:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@indent_paragraphs</span>
185:         <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatted</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">array_paragraphs</span>(<span class="ruby-identifier">array</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">paragraph</span><span class="ruby-operator">|</span>
186:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_encoding</span>] = <span class="ruby-keyword kw">false</span>
187:           <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">draw_indented_formatted_line</span>(<span class="ruby-identifier">paragraph</span>, <span class="ruby-identifier">options</span>)
188:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_encoding</span>] = <span class="ruby-keyword kw">true</span>
189:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">remaining_text</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">paragraph</span>
190:             <span class="ruby-comment cmt"># we were too close to the bottom of the page to print even one line</span>
191:             <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">move_past_bottom</span>
192:             <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">draw_indented_formatted_line</span>(<span class="ruby-identifier">paragraph</span>, <span class="ruby-identifier">options</span>)
193:           <span class="ruby-keyword kw">end</span>
194:           <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">fill_formatted_text_box</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
195:           <span class="ruby-identifier">draw_remaining_formatted_text_on_new_pages</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
196:         <span class="ruby-keyword kw">end</span>
197:       <span class="ruby-keyword kw">else</span>
198:         <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">fill_formatted_text_box</span>(<span class="ruby-identifier">array</span>, <span class="ruby-identifier">options</span>)
199:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_encoding</span>] = <span class="ruby-keyword kw">true</span>
200:         <span class="ruby-identifier">draw_remaining_formatted_text_on_new_pages</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
201:       <span class="ruby-keyword kw">end</span>
202:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="height-of-method" class="method-detail ">
				<a name="method-i-height_of"></a>

				<div class="method-heading">
				
					<span class="method-name">height_of</span><span
						class="method-args">(string, options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Gets height of text in PDF points. Same options as <a
href="Text.html#method-i-text">#</a>, except as noted. Not compatible with
:indent_paragraphs option
</p>
<h2>Example</h2>
<pre>
  height_of(&quot;hello\nworld&quot;)
</pre>
<h2>Exceptions</h2>
<p>
Raises <tt>NotImplementedError</tt> if <tt>:indent_paragraphs</tt> option
included
</p>
<p>
Raises <tt>Prawn::Errrors::CannotFit</tt> if not wide enough to print any
text
</p>
					

					
					<div class="method-source-code"
						id="height-of-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 286</span>
286:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">height_of</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>={})
287:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent_paragraphs</span>]
288:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span>, <span class="ruby-value str">&quot;:indent_paragraphs option not available&quot;</span> <span class="ruby-operator">+</span>
289:           <span class="ruby-value str">&quot;with height_of&quot;</span>
290:       <span class="ruby-keyword kw">end</span>
291:       <span class="ruby-identifier">process_final_gap_option</span>(<span class="ruby-identifier">options</span>)
292:       <span class="ruby-identifier">box</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Box</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">string</span>,
293:                           <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:height</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">100000000</span>,
294:                                         <span class="ruby-value">:document</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>))
295:       <span class="ruby-identifier">printed</span> = <span class="ruby-identifier">box</span>.<span class="ruby-identifier">render</span>(<span class="ruby-value">:dry_run</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
296: 
297:       <span class="ruby-identifier">height</span> = <span class="ruby-identifier">box</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span>)
298:       <span class="ruby-identifier">height</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">leading</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@final_gap</span>
299:       <span class="ruby-identifier">height</span>
300:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="height-of-formatted-method" class="method-detail ">
				<a name="method-i-height_of_formatted"></a>

				<div class="method-heading">
				
					<span class="method-name">height_of_formatted</span><span
						class="method-args">(array, options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Gets height of formatted text in PDF points. See documentation for <a
href="Text.html#method-i-height_of">#</a>.
</p>
<h2>Example</h2>
<pre>
  height_of_formatted([{ :text =&gt; &quot;hello&quot; },
                       { :text =&gt; &quot;world&quot;,
                         :size =&gt; 24,
                         :style =&gt; [:bold, :italic] }])</pre>
					

					
					<div class="method-source-code"
						id="height-of-formatted-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 312</span>
312:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">height_of_formatted</span>(<span class="ruby-identifier">array</span>, <span class="ruby-identifier">options</span>={})
313:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent_paragraphs</span>]
314:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">NotImplementedError</span>, <span class="ruby-value str">&quot;:indent_paragraphs option not available&quot;</span> <span class="ruby-operator">+</span>
315:           <span class="ruby-value str">&quot;with height_of&quot;</span>
316:       <span class="ruby-keyword kw">end</span>
317:       <span class="ruby-identifier">process_final_gap_option</span>(<span class="ruby-identifier">options</span>)
318:       <span class="ruby-identifier">box</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatted</span><span class="ruby-operator">::</span><span class="ruby-constant">Box</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">array</span>,
319:                           <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:height</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-value">100000000</span>,
320:                                         <span class="ruby-value">:document</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>))
321:       <span class="ruby-identifier">printed</span> = <span class="ruby-identifier">box</span>.<span class="ruby-identifier">render</span>(<span class="ruby-value">:dry_run</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>)
322: 
323:       <span class="ruby-identifier">height</span> = <span class="ruby-identifier">box</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span>)
324:       <span class="ruby-identifier">height</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">leading</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@final_gap</span>
325:       <span class="ruby-identifier">height</span>
326:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="text-method" class="method-detail ">
				<a name="method-i-text"></a>

				<div class="method-heading">
				
					<span class="method-name">text</span><span
						class="method-args">(string, options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
If you want text to flow onto a new page or between columns, this is the
method to use. If, instead, if you want to place bounded text outside of
the flow of a document (for captions, labels, charts, etc.), use <a
href="Text/Box.html">Text::Box</a> or its convenience method text_box.
</p>
<p>
Draws text on the page. Prawn attempts to wrap the text to fit within your
current bounding box (or margin_box if no bounding box is being used). <a
href="Text.html">Text</a> will flow onto the next page when it reaches the
bottom of the bounding box. <a href="Text.html">Text</a> wrap in Prawn does
not re-flow linebreaks, so if you want fully automated text wrapping, be
sure to remove newlines before attempting to draw your string.
</p>
<h2>Examples</h2>
<pre>
  pdf.text &quot;Will be wrapped when it hits the edge of your bounding box&quot;
  pdf.text &quot;This will be centered&quot;, :align =&gt; :center
  pdf.text &quot;This will be right aligned&quot;, :align =&gt; :right
  pdf.text &quot;This &lt;i&gt;includes &lt;b&gt;inline&lt;/b&gt;&lt;/i&gt; &lt;font size='24'&gt;&quot; +
           &quot;formatting&lt;/font&gt;&quot;, :inline_format =&gt; true
</pre>
<p>
If your font contains kerning pair data that Prawn can parse, the text will
be kerned by default. You can disable kerning by including a false
<tt>:kerning</tt> option. If you want to disable kerning on an entire
document, set default_kerning = false for that document
</p>
<h3><a href="Text.html">Text</a> Positioning Details</h3>
<p>
The text is positioned at font.ascender below the baseline, making it easy
to use this method within bounding boxes and spans.
</p>
<h2><a href="Encoding.html">Encoding</a></h2>
<p>
Note that strings passed to this function should be encoded as UTF-8. If
you get unexpected characters appearing in your rendered document,  check
this.
</p>
<p>
If the current font is a built-in one, although the string must be encoded
as UTF-8, only characters that are available in WinAnsi are allowed.
</p>
<p>
If an empty box is rendered to your PDF instead of the character you 
wanted it usually means the current font doesn&#8217;t include that
character.
</p>
<h2>Options (default values marked in [])</h2>
<table>
<tr><td valign="top"><tt>:inline_format</tt></td><td><p>
<tt>boolean</tt>. If true, then the string parameter is interpreted as a
HTML-esque string that recognizes the following tags:
</p>
<table>
<tr><td valign="top"><tt>&lt;b&gt;&lt;/b&gt;</tt></td><td><p>
bold
</p>
</td></tr>
</table>
<table>
<tr><td valign="top"><tt>&lt;i&gt;&lt;/i&gt;</tt></td><td><p>
italic
</p>
</td></tr>
</table>
<table>
<tr><td valign="top"><tt>&lt;u&gt;&lt;/u&gt;</tt></td><td><p>
underline
</p>
</td></tr>
</table>
<table>
<tr><td valign="top"><tt>&lt;strikethrough&gt;&lt;/strikethrough&gt;</tt></td><td><p>
strikethrough
</p>
</td></tr>
</table>
<table>
<tr><td valign="top"><tt>&lt;sub&gt;&lt;/sub&gt;</tt></td><td><p>
subscript
</p>
</td></tr>
</table>
<table>
<tr><td valign="top"><tt>&lt;sup&gt;&lt;/sup&gt;</tt></td><td><p>
superscript
</p>
</td></tr>
</table>
<table>
<tr><td valign="top"><tt>&lt;font&gt;&lt;/font&gt;</tt></td><td></td></tr>
</table>
<pre>
    with the following attributes (using double or single quotes)
      &lt;tt&gt;size=&quot;24&quot;&lt;/tt&gt;::
          attribute for setting size
      &lt;tt&gt;name=&quot;Helvetica&quot;&lt;/tt&gt;::
          attribute for setting the font. The font name must be an
          AFM font with the desired faces or must be a font that is
          already registered using Prawn::Document#font_families
</pre>
<table>
<tr><td valign="top"><tt>&lt;color&gt;&lt;/color&gt;</tt></td><td></td></tr>
</table>
<pre>
    with the following attributes
      &lt;tt&gt;rgb=&quot;ffffff&quot; or rgb=&quot;#ffffff&quot;&lt;/tt&gt;::
      &lt;tt&gt;c=&quot;100&quot; m=&quot;100&quot; y=&quot;100&quot; k=&quot;100&quot;&lt;/tt&gt;::
</pre>
<table>
<tr><td valign="top"><tt>&lt;link&gt;&lt;/link&gt;</tt></td><td></td></tr>
</table>
<pre>
    with the following attributes
      &lt;tt&gt;href=&quot;http://example.com&quot;&lt;/tt&gt;:: an external link
      &lt;tt&gt;anchor=&quot;ToC&quot;&lt;/tt&gt;::
          where the value of the anchor attribute is the name of a
          destination that has already been or will be registered
          using Prawn::Core::Destinations#add_dest. A clickable link
          will be created to that destination. 
    Note that you must explicitly underline and color using the
    appropriate tags if you which to draw attention to the link
</pre>
</td></tr>
<tr><td valign="top"><tt>:kerning</tt></td><td><p>
<tt>boolean</tt>. Whether or not to use kerning (if it is available with
the current font)
</p>
<dl>
<dt>value of default_kerning?</dt><dd></dd>
</dl>
</td></tr>
<tr><td valign="top"><tt>:size</tt></td><td><p>
<tt>number</tt>. The font size to use. [current font size]
</p>
</td></tr>
<tr><td valign="top"><tt>:style</tt></td><td><p>
The style to use. The requested style must be part of the current font
familly. [current style]
</p>
</td></tr>
<tr><td valign="top"><tt>:indent_paragraphs</tt></td><td><p>
<tt>number</tt>. The amount to indent the first line of each paragraph.
Omit this option if you do not want indenting
</p>
</td></tr>
<tr><td valign="top"><tt>:align</tt></td><td><p>
<tt>:left</tt>, <tt>:center</tt>, <tt>:right</tt>, or <tt>:justify</tt>
Alignment within the bounding box [:left]
</p>
</td></tr>
<tr><td valign="top"><tt>:valign</tt></td><td><p>
<tt>:top</tt>, <tt>:center</tt>, or <tt>:bottom</tt>. Vertical alignment
within the bounding box [:top]
</p>
</td></tr>
<tr><td valign="top"><tt>:leading</tt></td><td><p>
<tt>number</tt>. Additional space between lines [0]
</p>
</td></tr>
<tr><td valign="top"><tt>:final_gap</tt></td><td><p>
<tt>boolean</tt>. If true, then the space between each line is included
below the last line; otherwise, document.y is placed just below the
descender of the last line printed [true]
</p>
<pre>
 
</pre>
</td></tr>
</table>
<h2>Exceptions</h2>
<p>
Raises <tt>ArgumentError</tt> if <tt>:at</tt> option included
</p>
<p>
Raises <tt>Prawn::Errrors::CannotFit</tt> if not wide enough to print any
text
</p>
					

					
					<div class="method-source-code"
						id="text-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 124</span>
124:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>={})
125:       <span class="ruby-comment cmt"># we modify the options. don't change the user's hash</span>
126:       <span class="ruby-identifier">options</span> = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>
127: 
128:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:inline_format</span>]
129:         <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:inline_format</span>)
130:         <span class="ruby-identifier">array</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatted</span><span class="ruby-operator">::</span><span class="ruby-constant">Parser</span>.<span class="ruby-identifier">to_array</span>(<span class="ruby-identifier">string</span>)
131:         <span class="ruby-identifier">formatted_text</span>(<span class="ruby-identifier">array</span>, <span class="ruby-identifier">options</span>)
132:         <span class="ruby-keyword kw">return</span>
133:       <span class="ruby-keyword kw">end</span>
134: 
135:       <span class="ruby-identifier">inspect_options_for_text</span>(<span class="ruby-identifier">options</span>)
136: 
137:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@indent_paragraphs</span>
138:         <span class="ruby-identifier">string</span>.<span class="ruby-identifier">split</span>(<span class="ruby-value str">&quot;\n&quot;</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">paragraph</span><span class="ruby-operator">|</span>
139:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_encoding</span>] = <span class="ruby-keyword kw">false</span>
140:           <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">draw_indented_line</span>(<span class="ruby-identifier">paragraph</span>, <span class="ruby-identifier">options</span>)
141:           <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_encoding</span>] = <span class="ruby-keyword kw">true</span>
142:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">remaining_text</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">paragraph</span>
143:             <span class="ruby-comment cmt"># we were too close to the bottom of the page to print even one line</span>
144:             <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">move_past_bottom</span>
145:             <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">draw_indented_line</span>(<span class="ruby-identifier">paragraph</span>, <span class="ruby-identifier">options</span>)
146:           <span class="ruby-keyword kw">end</span>
147:           <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">fill_text_box</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
148:           <span class="ruby-identifier">draw_remaining_text_on_new_pages</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
149:         <span class="ruby-keyword kw">end</span>
150:       <span class="ruby-keyword kw">else</span>
151:         <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">fill_text_box</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>)
152:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:skip_encoding</span>] = <span class="ruby-keyword kw">true</span>
153:         <span class="ruby-identifier">draw_remaining_text_on_new_pages</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
154:       <span class="ruby-keyword kw">end</span>
155:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="text-box-method" class="method-detail ">
				<a name="method-i-text_box"></a>

				<div class="method-heading">
				
					<span class="method-name">text_box</span><span
						class="method-args">(string, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Draws the requested text into a box. When the text overflows the rectangle,
you can display ellipses, shrink to fit, or truncate the text. <a
href="Text.html">Text</a> boxes are independent of the document y position.
</p>
<h2><a href="Encoding.html">Encoding</a></h2>
<p>
Note that strings passed to this function should be encoded as UTF-8. If
you get unexpected characters appearing in your rendered document,  check
this.
</p>
<p>
If the current font is a built-in one, although the string must be encoded
as UTF-8, only characters that are available in WinAnsi are allowed.
</p>
<p>
If an empty box is rendered to your PDF instead of the character you 
wanted it usually means the current font doesn&#8217;t include that
character.
</p>
<h2>Options (default values marked in [])</h2>
<table>
<tr><td valign="top"><tt>:kerning</tt></td><td><p>
<tt>boolean</tt>. Whether or not to use kerning (if it is available with
the current font)
</p>
<dl>
<dt>value of document.default_kerning?</dt><dd></dd>
</dl>
</td></tr>
<tr><td valign="top"><tt>:size</tt></td><td><p>
<tt>number</tt>. The font size to use. [current font size]
</p>
</td></tr>
<tr><td valign="top"><tt>:style</tt></td><td><p>
The style to use. The requested style must be part of the current font
familly. [current style]
</p>
</td></tr>
<tr><td valign="top"><tt>:at</tt></td><td><p>
<tt>[x, y]</tt>. The upper left corner of the box
</p>
<dl>
<dt>@document.bounds.left, @document.bounds.top</dt><dd></dd>
</dl>
</td></tr>
<tr><td valign="top"><tt>:width</tt></td><td><p>
<tt>number</tt>. The width of the box [@document.bounds.right - @at[0]]
</p>
</td></tr>
<tr><td valign="top"><tt>:height</tt></td><td><p>
<tt>number</tt>. The height of the box [@at[1] - @document.bounds.bottom]
</p>
</td></tr>
<tr><td valign="top"><tt>:align</tt></td><td><p>
<tt>:left</tt>, <tt>:center</tt>, <tt>:right</tt>, or <tt>:justify</tt>
Alignment within the bounding box [:left]
</p>
</td></tr>
<tr><td valign="top"><tt>:valign</tt></td><td><p>
<tt>:top</tt>, <tt>:center</tt>, or <tt>:bottom</tt>. Vertical alignment
within the bounding box [:top]
</p>
<pre>
              
</pre>
</td></tr>
<tr><td valign="top"><tt>:rotate</tt></td><td><p>
<tt>number</tt>. The angle to rotate the text
</p>
</td></tr>
<tr><td valign="top"><tt>:rotate_around</tt></td><td><p>
<tt>:center</tt>, <tt>:upper_left</tt>, <tt>:upper_right</tt>,
<tt>:lower_right</tt>, or <tt>:lower_left</tt>. The point around which to
rotate the text [:upper_left]
</p>
</td></tr>
<tr><td valign="top"><tt>:leading</tt></td><td><p>
<tt>number</tt>. Additional space between lines [0]
</p>
</td></tr>
<tr><td valign="top"><tt>:single_line</tt></td><td><p>
<tt>boolean</tt>. If true, then only the first line will be drawn [false]
</p>
</td></tr>
<tr><td valign="top"><tt>:skip_encoding</tt></td><td><p>
<tt>boolean</tt> [false]
</p>
</td></tr>
<tr><td valign="top"><tt>:overflow</tt></td><td><p>
<tt>:truncate</tt>, <tt>:shrink_to_fit</tt>, <tt>:expand</tt>, or
<tt>:ellipses</tt>. This controls the behavior when the amount of text
exceeds the available space. <tt>:ellipses</tt> [:truncate]
</p>
</td></tr>
<tr><td valign="top"><tt>:min_font_size</tt></td><td><p>
<tt>number</tt>. The minimum font size to use when :overflow is set to
:shrink_to_fit (that is the font size will not be reduced to less than this
value, even if it means that some text will be cut off). [5]
</p>
</td></tr>
</table>
<h2>Returns</h2>
<p>
Returns any text that did not print under the current settings.
</p>
<p>
NOTE: if an AFM font is used, then the returned text is encoded in WinAnsi.
Subsequent calls to <a href="Text.html#method-i-text_box">text_box</a> that
pass this returned text back into text box must include a :skip_encoding =>
true option. This is unnecessary when using TTF fonts because those operate
on UTF-8 encoding.
</p>
<h2>Exceptions</h2>
<p>
Raises <tt>Prawn::Errrors::CannotFit</tt> if not wide enough to print any
text
</p>
					

					
					<div class="method-source-code"
						id="text-box-source">
<pre>
    <span class="ruby-comment cmt"># File lib/prawn/text/box.rb, line 90</span>
90:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">text_box</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>)
91:       <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Box</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:document</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">self</span>)).<span class="ruby-identifier">render</span>
92:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="draw-indented-formatted-line-method" class="method-detail ">
				<a name="method-i-draw_indented_formatted_line"></a>

				<div class="method-heading">
				
					<span class="method-name">draw_indented_formatted_line</span><span
						class="method-args">(string, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="draw-indented-formatted-line-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 370</span>
370:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">draw_indented_formatted_line</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>)
371:       <span class="ruby-identifier">indent</span>(<span class="ruby-ivar">@indent_paragraphs</span>) <span class="ruby-keyword kw">do</span>
372:         <span class="ruby-identifier">fill_formatted_text_box</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:single_line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
373:       <span class="ruby-keyword kw">end</span>
374:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="draw-indented-line-method" class="method-detail ">
				<a name="method-i-draw_indented_line"></a>

				<div class="method-heading">
				
					<span class="method-name">draw_indented_line</span><span
						class="method-args">(string, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="draw-indented-line-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 339</span>
339:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">draw_indented_line</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>)
340:       <span class="ruby-identifier">indent</span>(<span class="ruby-ivar">@indent_paragraphs</span>) <span class="ruby-keyword kw">do</span>
341:         <span class="ruby-identifier">fill_text_box</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">dup</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-value">:single_line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
342:       <span class="ruby-keyword kw">end</span>
343:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="draw-remaining-formatted-text-on-new-pages-method" class="method-detail ">
				<a name="method-i-draw_remaining_formatted_text_on_new_pages"></a>

				<div class="method-heading">
				
					<span class="method-name">draw_remaining_formatted_text_on_new_pages</span><span
						class="method-args">(remaining_text, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="draw-remaining-formatted-text-on-new-pages-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 361</span>
361:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">draw_remaining_formatted_text_on_new_pages</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
362:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">remaining_text</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
363:         <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">move_past_bottom</span>
364:         <span class="ruby-identifier">previous_remaining_text</span> = <span class="ruby-identifier">remaining_text</span>
365:         <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">fill_formatted_text_box</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
366:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">remaining_text</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">previous_remaining_text</span>
367:       <span class="ruby-keyword kw">end</span>
368:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="draw-remaining-text-on-new-pages-method" class="method-detail ">
				<a name="method-i-draw_remaining_text_on_new_pages"></a>

				<div class="method-heading">
				
					<span class="method-name">draw_remaining_text_on_new_pages</span><span
						class="method-args">(remaining_text, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="draw-remaining-text-on-new-pages-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 330</span>
330:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">draw_remaining_text_on_new_pages</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
331:       <span class="ruby-keyword kw">while</span> <span class="ruby-identifier">remaining_text</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
332:         <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">move_past_bottom</span>
333:         <span class="ruby-identifier">previous_remaining_text</span> = <span class="ruby-identifier">remaining_text</span>
334:         <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">fill_text_box</span>(<span class="ruby-identifier">remaining_text</span>, <span class="ruby-identifier">options</span>)
335:         <span class="ruby-keyword kw">break</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">remaining_text</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">previous_remaining_text</span>
336:       <span class="ruby-keyword kw">end</span>
337:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="fill-formatted-text-box-method" class="method-detail ">
				<a name="method-i-fill_formatted_text_box"></a>

				<div class="method-heading">
				
					<span class="method-name">fill_formatted_text_box</span><span
						class="method-args">(text, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="fill-formatted-text-box-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 376</span>
376:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fill_formatted_text_box</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>)
377:       <span class="ruby-identifier">merge_text_box_positioning_options</span>(<span class="ruby-identifier">options</span>)
378:       <span class="ruby-identifier">box</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatted</span><span class="ruby-operator">::</span><span class="ruby-constant">Box</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>)
379:       <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">box</span>.<span class="ruby-identifier">render</span>
380: 
381:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span>)
382:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@final_gap</span>
383:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">leading</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span>
384:       <span class="ruby-keyword kw">end</span>
385:       <span class="ruby-identifier">remaining_text</span>
386:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="fill-text-box-method" class="method-detail ">
				<a name="method-i-fill_text_box"></a>

				<div class="method-heading">
				
					<span class="method-name">fill_text_box</span><span
						class="method-args">(text, options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="fill-text-box-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 345</span>
345:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fill_text_box</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>)
346:       <span class="ruby-identifier">merge_text_box_positioning_options</span>(<span class="ruby-identifier">options</span>)
347: 
348:       <span class="ruby-identifier">box</span> = <span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Box</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">text</span>, <span class="ruby-identifier">options</span>)
349:       <span class="ruby-identifier">remaining_text</span> = <span class="ruby-identifier">box</span>.<span class="ruby-identifier">render</span>
350: 
351:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span>)
352:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@final_gap</span>
353:         <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">line_height</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">leading</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">box</span>.<span class="ruby-identifier">ascender</span>
354:       <span class="ruby-keyword kw">end</span>
355:       <span class="ruby-identifier">remaining_text</span>
356:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="inspect-options-for-draw-text-method" class="method-detail ">
				<a name="method-i-inspect_options_for_draw_text"></a>

				<div class="method-heading">
				
					<span class="method-name">inspect_options_for_draw_text</span><span
						class="method-args">(options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="inspect-options-for-draw-text-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 400</span>
400:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect_options_for_draw_text</span>(<span class="ruby-identifier">options</span>)
401:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:at</span>].<span class="ruby-identifier">nil?</span>
402:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;The :at option is required for draw_text&quot;</span>
403:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:align</span>]
404:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;The :align option does not work with draw_text&quot;</span>
405:       <span class="ruby-keyword kw">end</span>
406:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:kerning</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">then</span>
407:         <span class="ruby-identifier">options</span>[<span class="ruby-value">:kerning</span>] = <span class="ruby-identifier">default_kerning?</span>
408:       <span class="ruby-keyword kw">end</span>
409:       <span class="ruby-identifier">valid_options</span> = <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Core</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">VALID_OPTIONS</span> <span class="ruby-operator">+</span> [<span class="ruby-value">:at</span>, <span class="ruby-value">:rotate</span>]
410:       <span class="ruby-constant">Prawn</span>.<span class="ruby-identifier">verify_options</span>(<span class="ruby-identifier">valid_options</span>, <span class="ruby-identifier">options</span>)
411:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="inspect-options-for-text-method" class="method-detail ">
				<a name="method-i-inspect_options_for_text"></a>

				<div class="method-heading">
				
					<span class="method-name">inspect_options_for_text</span><span
						class="method-args">(options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="inspect-options-for-text-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 413</span>
413:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">inspect_options_for_text</span>(<span class="ruby-identifier">options</span>)
414:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:at</span>]
415:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;:at is no longer a valid option with text.&quot;</span> <span class="ruby-operator">+</span>
416:                              <span class="ruby-value str">&quot;use draw_text or text_box instead&quot;</span>
417:       <span class="ruby-keyword kw">end</span>
418:       <span class="ruby-identifier">process_final_gap_option</span>(<span class="ruby-identifier">options</span>)
419:       <span class="ruby-identifier">process_indent_paragraphs_option</span>(<span class="ruby-identifier">options</span>)
420:       <span class="ruby-identifier">options</span>[<span class="ruby-value">:document</span>] = <span class="ruby-keyword kw">self</span>
421:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="merge-text-box-positioning-options-method" class="method-detail ">
				<a name="method-i-merge_text_box_positioning_options"></a>

				<div class="method-heading">
				
					<span class="method-name">merge_text_box_positioning_options</span><span
						class="method-args">(options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="merge-text-box-positioning-options-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 390</span>
390:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">merge_text_box_positioning_options</span>(<span class="ruby-identifier">options</span>)
391:       <span class="ruby-identifier">bottom</span> = <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">stretchy?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@margin_box</span>.<span class="ruby-identifier">absolute_bottom</span> <span class="ruby-operator">:</span>
392:                                          <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">absolute_bottom</span>
393: 
394:       <span class="ruby-identifier">options</span>[<span class="ruby-value">:height</span>] = <span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">bottom</span>
395:       <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>] = <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span>
396:       <span class="ruby-identifier">options</span>[<span class="ruby-value">:at</span>] = [<span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">left_side</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">absolute_left</span>,
397:                       <span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">absolute_bottom</span>]
398:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="move-text-position-method" class="method-detail ">
				<a name="method-i-move_text_position"></a>

				<div class="method-heading">
				
					<span class="method-name">move_text_position</span><span
						class="method-args">(dy)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="move-text-position-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 433</span>
433:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_text_position</span>(<span class="ruby-identifier">dy</span>)
434:       <span class="ruby-identifier">bottom</span> = <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">stretchy?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@margin_box</span>.<span class="ruby-identifier">absolute_bottom</span> <span class="ruby-operator">:</span>
435:                                          <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">absolute_bottom</span>
436: 
437:       <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">move_past_bottom</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">dy</span>) <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">bottom</span>
438: 
439:       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">dy</span>
440:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="process-final-gap-option-method" class="method-detail ">
				<a name="method-i-process_final_gap_option"></a>

				<div class="method-heading">
				
					<span class="method-name">process_final_gap_option</span><span
						class="method-args">(options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="process-final-gap-option-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 423</span>
423:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process_final_gap_option</span>(<span class="ruby-identifier">options</span>)
424:       <span class="ruby-ivar">@final_gap</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:final_gap</span>].<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:final_gap</span>]
425:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:final_gap</span>)
426:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="process-indent-paragraphs-option-method" class="method-detail ">
				<a name="method-i-process_indent_paragraphs_option"></a>

				<div class="method-heading">
				
					<span class="method-name">process_indent_paragraphs_option</span><span
						class="method-args">(options)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="process-indent-paragraphs-option-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/text.rb, line 428</span>
428:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">process_indent_paragraphs_option</span>(<span class="ruby-identifier">options</span>)
429:       <span class="ruby-ivar">@indent_paragraphs</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:indent_paragraphs</span>]
430:       <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:indent_paragraphs</span>)
431:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

