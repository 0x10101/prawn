<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: Prawn::Table</title>

	<link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

	<script src="../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="home-metadata">
			<div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
			</div>
		</div>

		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../lib/prawn/table/cell_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/prawn/table/cell.rb">lib/prawn/table/cell.rb</a></li>
					
						<li><a href="../lib/prawn/table_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/prawn/table.rb">lib/prawn/table.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			
			<div id="namespace-list-section" class="section">
				<h3 class="section-header">Namespace</h3>
				<ul class="link-list">
					
					<li><span class="type">CLASS</span> <a href="Table/Cell.html">Prawn::Table::Cell</a></li>
					
					<li><span class="type">CLASS</span> <a href="Table/CellBlock.html">Prawn::Table::CellBlock</a></li>
					
				</ul>
			</div>
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#method-c-new">::new</a></li>
					
					<li><a href="#method-i-calculate_column_widths">#calculate_column_widths</a></li>
					
					<li><a href="#method-i-default_configuration">#default_configuration</a></li>
					
					<li><a href="#method-i-draw">#draw</a></li>
					
					<li><a href="#method-i-draw_page">#draw_page</a></li>
					
					<li><a href="#method-i-fit_within_bounds">#fit_within_bounds</a></li>
					
					<li><a href="#method-i-generate_table">#generate_table</a></li>
					
					<li><a href="#method-i-next_row_color">#next_row_color</a></li>
					
					<li><a href="#method-i-renderable_data">#renderable_data</a></li>
					
					<li><a href="#method-i-reset_row_colors">#reset_row_colors</a></li>
					
					<li><a href="#method-i-width">#width</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><span class="include">Prawn::Configurable</span></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../Prawn.html">Prawn</a></li>
				
					<li><a href="../Prawn/Document.html">Prawn::Document</a></li>
				
					<li><a href="../Prawn/Document/Box.html">Prawn::Document::Box</a></li>
				
					<li><a href="../Prawn/Document/Grid.html">Prawn::Document::Grid</a></li>
				
					<li><a href="../Prawn/Document/LazyBoundingBox.html">Prawn::Document::LazyBoundingBox</a></li>
				
					<li><a href="../Prawn/Document/MultiBox.html">Prawn::Document::MultiBox</a></li>
				
					<li><a href="../Prawn/Errors.html">Prawn::Errors</a></li>
				
					<li><a href="../Prawn/Layout.html">Prawn::Layout</a></li>
				
					<li><a href="../Prawn/Table.html">Prawn::Table</a></li>
				
					<li><a href="../Prawn/Table/Cell.html">Prawn::Table::Cell</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">Prawn::Table</h1>

		<div id="description">
			<p>
This class implements simple PDF table generation.
</p>
<p>
<a href="../Prawn.html">Prawn</a> tables have the following features:
</p>
<pre>
  * Can be generated with or without headers
  * Can tweak horizontal and vertical padding of text
  * Minimal styling support (borders / row background colors)
  * Can be positioned by bounding boxes (left/center aligned) or an
    absolute x position
  * Automated page-breaking as needed
  * Column widths can be calculated automatically or defined explictly on a 
    column by column basis
  * Text alignment can be set for the whole table or by column
</pre>
<p>
The current implementation is a bit barebones, but covers most of the basic
needs for PDF table generation.  If you have feature requests, please share
them at: <a
href="http://groups.google.com/group/prawn-ruby">groups.google.com/group/prawn-ruby</a>
</p>
<p>
Tables will be revisited before the end of the Ruby Mendicant project and
the most commonly needed functionality will likely be added.
</p>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="new-method" class="method-detail ">
				<a name="method-c-new"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(data, document, options={})</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Creates a new <a href="Table.html">Document::Table</a> object. This is
generally called  indirectly through <a
href="Document.html#method-i-table">Document#table</a> but can also be used
explictly.
</p>
<p>
The <tt>data</tt> argument is a two dimensional array of strings, organized
by row, e.g.
[[&#8220;r1-col1&#8221;,&#8220;r1-col2&#8221;],[&#8220;r2-col2&#8221;,&#8220;r2-col2&#8221;]].
As with all <a href="../Prawn.html">Prawn</a> text drawing operations,
strings must be UTF-8 encoded.
</p>
<p>
The following options are available for customizing your tables, with
defaults shown in [] at the end of each description.
</p>
<table>
<tr><td valign="top"><tt>:headers</tt></td><td><p>
An array of table headers, either strings or Cells. [Empty]
</p>
</td></tr>
<tr><td valign="top"><tt>:align_headers</tt></td><td><p>
Alignment of header text.  Specify for entire header (<tt>:left</tt>) or by
column (<tt>{ 0 =&gt; :right, 1 =&gt; :left}</tt>). If omitted, the header
alignment is the same as the column alignment.
</p>
</td></tr>
<tr><td valign="top"><tt>:header_text_color</tt></td><td><p>
Sets the text color of the headers
</p>
</td></tr>
<tr><td valign="top"><tt>:header_color</tt></td><td><p>
Manually sets the header color
</p>
</td></tr>
<tr><td valign="top"><tt>:font_size</tt></td><td><p>
The font size for the text cells . [12]
</p>
</td></tr>
<tr><td valign="top"><tt>:horizontal_padding</tt></td><td><p>
The horizontal cell padding in PDF points [5]
</p>
</td></tr>
<tr><td valign="top"><tt>:vertical_padding</tt></td><td><p>
The vertical cell padding in PDF points [5]
</p>
</td></tr>
<tr><td valign="top"><tt>:padding</tt></td><td><p>
Horizontal and vertical cell padding (overrides both)
</p>
</td></tr>
<tr><td valign="top"><tt>:border_width</tt></td><td><p>
With of border lines in PDF points [1]
</p>
</td></tr>
<tr><td valign="top"><tt>:border_style</tt></td><td><p>
If set to :grid, fills in all borders. If set to :underline_header,
underline header only. Otherwise, borders are drawn on columns only, not
rows
</p>
</td></tr>
<tr><td valign="top"><tt>:border_color</tt></td><td><p>
Sets the color of the borders.
</p>
</td></tr>
<tr><td valign="top"><tt>:position</tt></td><td><p>
One of <tt>:left</tt>, <tt>:center</tt> or <tt>n</tt>, where <tt>n</tt> is
an x-offset from the left edge of the current bounding box
</p>
</td></tr>
<tr><td valign="top"><tt>:width</tt></td><td><p>
A set width for the table, defaults to the sum of all column widths
</p>
</td></tr>
<tr><td valign="top"><tt>:column_widths</tt></td><td><p>
A hash of indices and widths in PDF points.  E.g. <tt>{ 0 =&gt; 50, 1 =&gt;
100 }</tt>
</p>
</td></tr>
<tr><td valign="top"><tt>:row_colors</tt></td><td><p>
Used to specify background colors for rows. See below for usage.
</p>
</td></tr>
<tr><td valign="top"><tt>:align</tt></td><td><p>
Alignment of text in columns, for entire table (<tt>:center</tt>) or by
column (<tt>{ 0 =&gt; :left, 1 =&gt; :center}</tt>)
</p>
</td></tr>
</table>
<p>
Row colors (<tt>:row_colors</tt>) are specified as HTML hex color values, 
e.g., &#8220;ccaaff&#8221;. They can take several forms:
</p>
<ul>
<li><p>
An array of colors, used cyclically to &#8220;zebra stripe&#8221; the
table: <tt>['ffffff', 'cccccc', '336699']</tt>.
</p>
</li>
<li><p>
A hash taking 0-based row numbers to colors: <tt>{ 0 =&gt; 'ffffff', 2
=&gt; 'cccccc'}</tt>.
</p>
</li>
<li><p>
The symbol <tt>:pdf_writer</tt>, for PDF::Writer&#8217;s default color
scheme.
</p>
</li>
</ul>
<p>
See <a href="Document.html#method-i-table">Document#table</a> for typical
usage, as directly using this class is not recommended unless you know why
you want to do it.
</p>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 122</span>
122:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">document</span>, <span class="ruby-identifier">options</span>={})     
123:       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">data</span>.<span class="ruby-identifier">all?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">e</span> }
124:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">InvalidTableData</span>,
125:           <span class="ruby-value str">&quot;data must be a two dimensional array of Prawn::Cells or strings&quot;</span>
126:       <span class="ruby-keyword kw">end</span>
127:       
128:       <span class="ruby-ivar">@data</span>     = <span class="ruby-identifier">data</span>        
129:       <span class="ruby-ivar">@document</span> = <span class="ruby-identifier">document</span>
130:       
131:       <span class="ruby-constant">Prawn</span>.<span class="ruby-identifier">verify_options</span> [<span class="ruby-value">:font_size</span>,<span class="ruby-value">:border_style</span>, <span class="ruby-value">:border_width</span>,
132:        <span class="ruby-value">:position</span>, <span class="ruby-value">:headers</span>, <span class="ruby-value">:row_colors</span>, <span class="ruby-value">:align</span>, <span class="ruby-value">:align_headers</span>, 
133:        <span class="ruby-value">:header_text_color</span>, <span class="ruby-value">:border_color</span>, <span class="ruby-value">:horizontal_padding</span>, 
134:        <span class="ruby-value">:vertical_padding</span>, <span class="ruby-value">:padding</span>, <span class="ruby-value">:column_widths</span>, <span class="ruby-value">:width</span>, <span class="ruby-value">:header_color</span> ], 
135:        <span class="ruby-identifier">options</span>     
136:                                           
137:       <span class="ruby-identifier">configuration</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">options</span>)  
138: 
139:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">padding</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:padding</span>]
140:         <span class="ruby-constant">C</span>(<span class="ruby-value">:horizontal_padding</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">padding</span>, <span class="ruby-value">:vertical_padding</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">padding</span>) 
141:       <span class="ruby-keyword kw">end</span>
142:        
143:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:row_colors</span>] <span class="ruby-operator">==</span> <span class="ruby-value">:pdf_writer</span> 
144:         <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-value str">&quot;ffffff&quot;</span>,<span class="ruby-value str">&quot;cccccc&quot;</span>])  
145:       <span class="ruby-keyword kw">end</span>
146:       
147:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-value">:row_colors</span>]
148:         <span class="ruby-constant">C</span>(<span class="ruby-value">:original_row_colors</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>)) 
149:       <span class="ruby-keyword kw">end</span>
150: 
151:       <span class="ruby-identifier">calculate_column_widths</span>(<span class="ruby-identifier">options</span>[<span class="ruby-value">:column_widths</span>], <span class="ruby-identifier">options</span>[<span class="ruby-value">:width</span>])
152:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="draw-method" class="method-detail ">
				<a name="method-i-draw"></a>

				<div class="method-heading">
				
					<span class="method-name">draw</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Draws the table onto the PDF document
</p>
					

					
					<div class="method-source-code"
						id="draw-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 164</span>
164:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">draw</span>  
165:       <span class="ruby-ivar">@parent_bounds</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">bounds</span>  
166:       <span class="ruby-keyword kw">case</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:position</span>) 
167:       <span class="ruby-keyword kw">when</span> <span class="ruby-value">:center</span>
168:         <span class="ruby-identifier">x</span> = (<span class="ruby-ivar">@document</span>.<span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">width</span>) <span class="ruby-operator">/</span> <span class="ruby-value">2.0</span>
169:         <span class="ruby-identifier">dy</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">absolute_top</span> <span class="ruby-operator">-</span> <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span>
170:         <span class="ruby-identifier">final_pos</span> = <span class="ruby-keyword kw">nil</span>
171: 
172:         <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">bounding_box</span> [<span class="ruby-identifier">x</span>, <span class="ruby-ivar">@parent_bounds</span>.<span class="ruby-identifier">top</span>], <span class="ruby-value">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">width</span> <span class="ruby-keyword kw">do</span> 
173:           <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">move_down</span>(<span class="ruby-identifier">dy</span>)
174:           <span class="ruby-identifier">generate_table</span>
175:           <span class="ruby-identifier">final_pos</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span>
176:         <span class="ruby-keyword kw">end</span>
177: 
178:         <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span> = <span class="ruby-identifier">final_pos</span>
179:       <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Numeric</span>     
180:         <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:position</span>), <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">cursor</span>
181:         <span class="ruby-identifier">final_pos</span> = <span class="ruby-keyword kw">nil</span>
182: 
183:         <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">bounding_box</span>([<span class="ruby-identifier">x</span>,<span class="ruby-identifier">y</span>], <span class="ruby-value">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">width</span>) <span class="ruby-keyword kw">do</span>
184:           <span class="ruby-identifier">generate_table</span>
185:           <span class="ruby-identifier">final_pos</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span> 
186:         <span class="ruby-keyword kw">end</span>
187: 
188:         <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span> = <span class="ruby-identifier">final_pos</span>
189:       <span class="ruby-keyword kw">else</span>
190:         <span class="ruby-identifier">generate_table</span>
191:       <span class="ruby-keyword kw">end</span>
192:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="width-method" class="method-detail ">
				<a name="method-i-width"></a>

				<div class="method-heading">
				
					<span class="method-name">width</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Width of the table in PDF points
</p>
					

					
					<div class="method-source-code"
						id="width-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 158</span>
158:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">width</span>
159:        <span class="ruby-ivar">@column_widths</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">s</span>,<span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">s</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">r</span> }
160:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="calculate-column-widths-method" class="method-detail ">
				<a name="method-i-calculate_column_widths"></a>

				<div class="method-heading">
				
					<span class="method-name">calculate_column_widths</span><span
						class="method-args">(manual_widths=nil, width=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="calculate-column-widths-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 204</span>
204:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">calculate_column_widths</span>(<span class="ruby-identifier">manual_widths</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">width</span>=<span class="ruby-keyword kw">nil</span>)
205:       <span class="ruby-ivar">@column_widths</span> = [<span class="ruby-value">0</span>] * <span class="ruby-ivar">@data</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>){ <span class="ruby-operator">|</span><span class="ruby-identifier">acc</span>, <span class="ruby-identifier">e</span><span class="ruby-operator">|</span> 
206:         <span class="ruby-identifier">acc</span> <span class="ruby-operator">+=</span> (<span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:colspan</span>)) <span class="ruby-operator">?</span> <span class="ruby-identifier">e</span>[<span class="ruby-value">:colspan</span>] <span class="ruby-operator">:</span> <span class="ruby-value">1</span> }
207: 
208:       <span class="ruby-identifier">renderable_data</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span><span class="ruby-operator">|</span>
209:         <span class="ruby-identifier">colspan</span> = <span class="ruby-value">0</span>
210:         <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">cell</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
211:           <span class="ruby-identifier">cell_text</span> = <span class="ruby-identifier">cell</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">cell</span>[<span class="ruby-value">:text</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">cell</span>.<span class="ruby-identifier">to_s</span>
212:           <span class="ruby-identifier">length</span> = <span class="ruby-identifier">cell_text</span>.<span class="ruby-identifier">lines</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
213:             <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">width_of</span>(<span class="ruby-identifier">e</span>, <span class="ruby-value">:size</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:font_size</span>)) }.<span class="ruby-identifier">max</span>.<span class="ruby-identifier">to_f</span> <span class="ruby-operator">+</span>
214:               <span class="ruby-value">2</span>*<span class="ruby-constant">C</span>(<span class="ruby-value">:horizontal_padding</span>)
215:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@column_widths</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-identifier">colspan</span>]
216:             <span class="ruby-ivar">@column_widths</span>[<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-identifier">colspan</span>] = <span class="ruby-identifier">length</span>.<span class="ruby-identifier">ceil</span>
217:           <span class="ruby-keyword kw">end</span>
218: 
219:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">cell</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">cell</span>[<span class="ruby-value">:colspan</span>]
220:             <span class="ruby-identifier">colspan</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">cell</span>[<span class="ruby-value">:colspan</span>] <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
221:           <span class="ruby-keyword kw">end</span>
222:         <span class="ruby-keyword kw">end</span>
223:       <span class="ruby-keyword kw">end</span>  
224: 
225:       <span class="ruby-identifier">fit_within_bounds</span>(<span class="ruby-identifier">manual_widths</span>, <span class="ruby-identifier">width</span>)
226:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="default-configuration-method" class="method-detail ">
				<a name="method-i-default_configuration"></a>

				<div class="method-heading">
				
					<span class="method-name">default_configuration</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="default-configuration-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 196</span>
196:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">default_configuration</span>     
197:       { <span class="ruby-value">:font_size</span>           =<span class="ruby-operator">&gt;</span> <span class="ruby-value">12</span>, 
198:         <span class="ruby-value">:border_width</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, 
199:         <span class="ruby-value">:position</span>            =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:left</span>,
200:         <span class="ruby-value">:horizontal_padding</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span>,
201:         <span class="ruby-value">:vertical_padding</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-value">5</span> } 
202:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="draw-page-method" class="method-detail ">
				<a name="method-i-draw_page"></a>

				<div class="method-heading">
				
					<span class="method-name">draw_page</span><span
						class="method-args">(contents)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="draw-page-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 361</span>
361:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">draw_page</span>(<span class="ruby-identifier">contents</span>)
362:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">empty?</span>
363: 
364:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:border_style</span>) <span class="ruby-operator">==</span> <span class="ruby-value">:underline_header</span>
365:         <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">border_style</span> = <span class="ruby-value">:none</span> }
366:         <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">border_style</span> = <span class="ruby-value">:bottom_only</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>)
367:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:border_style</span>) <span class="ruby-operator">==</span> <span class="ruby-value">:grid</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
368:         <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">border_style</span> = <span class="ruby-value">:all</span> }
369:       <span class="ruby-keyword kw">else</span>
370:         <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">border_style</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>) <span class="ruby-operator">?</span> <span class="ruby-value">:all</span> <span class="ruby-operator">:</span> <span class="ruby-value">:no_bottom</span>
371:         <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">last</span>.<span class="ruby-identifier">border_style</span> = <span class="ruby-value">:no_top</span>
372:       <span class="ruby-keyword kw">end</span>
373:       
374:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>)
375:         <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">cells</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
376:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:align_headers</span>)
377:             <span class="ruby-keyword kw">case</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:align_headers</span>)
378:               <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
379:                 <span class="ruby-identifier">align</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:align_headers</span>)[<span class="ruby-identifier">i</span>]
380:               <span class="ruby-keyword kw">else</span>
381:                 <span class="ruby-identifier">align</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:align_headers</span>)
382:               <span class="ruby-keyword kw">end</span>
383:           <span class="ruby-keyword kw">end</span>
384:           <span class="ruby-identifier">e</span>.<span class="ruby-identifier">align</span> = <span class="ruby-identifier">align</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">align</span>
385:           <span class="ruby-identifier">e</span>.<span class="ruby-identifier">text_color</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:header_text_color</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:header_text_color</span>)
386:           <span class="ruby-identifier">e</span>.<span class="ruby-identifier">background_color</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:header_color</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:header_color</span>)
387:         <span class="ruby-keyword kw">end</span>
388:       <span class="ruby-keyword kw">end</span>
389:       
390:       <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span>
391:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">x</span>.<span class="ruby-identifier">background_color</span>
392:           <span class="ruby-identifier">x</span>.<span class="ruby-identifier">background_color</span> = <span class="ruby-identifier">next_row_color</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>)
393:         <span class="ruby-keyword kw">end</span>
394:         <span class="ruby-identifier">x</span>.<span class="ruby-identifier">border_color</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:border_color</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:border_color</span>)
395:         
396:         <span class="ruby-identifier">x</span>.<span class="ruby-identifier">draw</span> 
397:       <span class="ruby-keyword kw">end</span>
398: 
399:       <span class="ruby-identifier">reset_row_colors</span>
400:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="fit-within-bounds-method" class="method-detail ">
				<a name="method-i-fit_within_bounds"></a>

				<div class="method-heading">
				
					<span class="method-name">fit_within_bounds</span><span
						class="method-args">(manual_widths, width)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="fit-within-bounds-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 228</span>
228:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">fit_within_bounds</span>(<span class="ruby-identifier">manual_widths</span>, <span class="ruby-identifier">width</span>)
229:       <span class="ruby-identifier">manual_width</span> = <span class="ruby-value">0</span>
230:       <span class="ruby-identifier">manual_widths</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> 
231:         <span class="ruby-ivar">@column_widths</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>; <span class="ruby-identifier">manual_width</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">v</span> } <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">manual_widths</span>           
232: 
233:       <span class="ruby-comment cmt">#Ensures that the maximum width of the document is not exceeded</span>
234:       <span class="ruby-comment cmt">#Takes into consideration the manual widths specified (With full manual </span>
235:       <span class="ruby-comment cmt"># widths specified, the width can exceed the document width as manual </span>
236:       <span class="ruby-comment cmt"># widths are taken as gospel)</span>
237:       <span class="ruby-identifier">max_width</span> = <span class="ruby-identifier">width</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">margin_box</span>.<span class="ruby-identifier">width</span>
238:       <span class="ruby-identifier">calculated_width</span> = <span class="ruby-ivar">@column_widths</span>.<span class="ruby-identifier">inject</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>,<span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">e</span> }
239: 
240:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">calculated_width</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_width</span>
241:         <span class="ruby-identifier">shrink_by</span> = (<span class="ruby-identifier">max_width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">manual_width</span>).<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> 
242:           (<span class="ruby-identifier">calculated_width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">manual_width</span>)
243:         <span class="ruby-ivar">@column_widths</span>.<span class="ruby-identifier">each_with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> 
244:           <span class="ruby-ivar">@column_widths</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">c</span> * <span class="ruby-identifier">shrink_by</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">manual_widths</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> 
245:             <span class="ruby-identifier">manual_widths</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">nil?</span> 
246:         }
247:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">width</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">calculated_width</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">width</span>
248:         <span class="ruby-identifier">grow_by</span> = (<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">manual_width</span>).<span class="ruby-identifier">to_f</span> <span class="ruby-operator">/</span> 
249:           (<span class="ruby-identifier">calculated_width</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">manual_width</span>)
250:         <span class="ruby-ivar">@column_widths</span>.<span class="ruby-identifier">each_with_index</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">c</span>,<span class="ruby-identifier">i</span><span class="ruby-operator">|</span> 
251:           <span class="ruby-ivar">@column_widths</span>[<span class="ruby-identifier">i</span>] = <span class="ruby-identifier">c</span> * <span class="ruby-identifier">grow_by</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">manual_widths</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> 
252:             <span class="ruby-identifier">manual_widths</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">nil?</span> 
253:         }
254:       <span class="ruby-keyword kw">end</span>
255:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="generate-table-method" class="method-detail ">
				<a name="method-i-generate_table"></a>

				<div class="method-heading">
				
					<span class="method-name">generate_table</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="generate-table-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 262</span>
262:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">generate_table</span>    
263:       <span class="ruby-identifier">page_contents</span> = []
264:       <span class="ruby-identifier">y_pos</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span> 
265: 
266:       <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">font_size</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:font_size</span>) <span class="ruby-keyword kw">do</span>
267:         <span class="ruby-identifier">renderable_data</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">row</span>,<span class="ruby-identifier">index</span><span class="ruby-operator">|</span>
268:           <span class="ruby-identifier">c</span> = <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span><span class="ruby-operator">::</span><span class="ruby-constant">CellBlock</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@document</span>)
269:           
270:           <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>).<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
271:             <span class="ruby-identifier">real_index</span> = <span class="ruby-identifier">index</span>
272:             <span class="ruby-identifier">real_index</span> <span class="ruby-operator">-=</span> <span class="ruby-value">1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>)
273:             <span class="ruby-identifier">color</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>)[<span class="ruby-identifier">real_index</span>]
274:             <span class="ruby-identifier">c</span>.<span class="ruby-identifier">background_color</span> = <span class="ruby-identifier">color</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">color</span>
275:           <span class="ruby-keyword kw">end</span>
276:           
277:           <span class="ruby-identifier">col_index</span> = <span class="ruby-value">0</span>
278:           <span class="ruby-identifier">row</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span>
279:             <span class="ruby-keyword kw">case</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:align</span>)
280:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Hash</span>
281:               <span class="ruby-identifier">align</span>            = <span class="ruby-constant">C</span>(<span class="ruby-value">:align</span>)[<span class="ruby-identifier">col_index</span>]
282:             <span class="ruby-keyword kw">else</span>
283:               <span class="ruby-identifier">align</span>            = <span class="ruby-constant">C</span>(<span class="ruby-value">:align</span>)
284:             <span class="ruby-keyword kw">end</span>   
285:             
286:             
287:             <span class="ruby-identifier">align</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-constant">NUMBER_PATTERN</span> <span class="ruby-operator">?</span> <span class="ruby-value">:right</span> <span class="ruby-operator">:</span> <span class="ruby-value">:left</span> 
288:             
289:             <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">e</span>
290:             <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span><span class="ruby-operator">::</span><span class="ruby-constant">Cell</span>
291:               <span class="ruby-identifier">e</span>.<span class="ruby-identifier">document</span> = <span class="ruby-ivar">@document</span>
292:               <span class="ruby-identifier">e</span>.<span class="ruby-identifier">width</span>    = <span class="ruby-ivar">@column_widths</span>[<span class="ruby-identifier">col_index</span>]
293:               <span class="ruby-identifier">e</span>.<span class="ruby-identifier">horizontal_padding</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:horizontal_padding</span>)
294:               <span class="ruby-identifier">e</span>.<span class="ruby-identifier">vertical_padding</span>   = <span class="ruby-constant">C</span>(<span class="ruby-value">:vertical_padding</span>)    
295:               <span class="ruby-identifier">e</span>.<span class="ruby-identifier">border_width</span>       = <span class="ruby-constant">C</span>(<span class="ruby-value">:border_width</span>)
296:               <span class="ruby-identifier">e</span>.<span class="ruby-identifier">border_style</span>       = <span class="ruby-value">:sides</span>
297:               <span class="ruby-identifier">e</span>.<span class="ruby-identifier">align</span>              = <span class="ruby-identifier">align</span> 
298:               <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">e</span>
299:             <span class="ruby-keyword kw">else</span>
300:               <span class="ruby-identifier">text</span> = <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">e</span>[<span class="ruby-value">:text</span>] <span class="ruby-operator">:</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">to_s</span>
301:               <span class="ruby-identifier">width</span> = <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:colspan</span>)
302:                 <span class="ruby-ivar">@column_widths</span>.<span class="ruby-identifier">slice</span>(<span class="ruby-identifier">col_index</span>, <span class="ruby-identifier">e</span>[<span class="ruby-value">:colspan</span>]).<span class="ruby-identifier">inject</span> { 
303:                   <span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">width</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">width</span> }
304:               <span class="ruby-keyword kw">else</span>
305:                 <span class="ruby-ivar">@column_widths</span>[<span class="ruby-identifier">col_index</span>]
306:               <span class="ruby-keyword kw">end</span>
307:               
308:               <span class="ruby-identifier">cell_options</span> = {
309:                 <span class="ruby-value">:document</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@document</span>, 
310:                 <span class="ruby-value">:text</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">text</span>,
311:                 <span class="ruby-value">:width</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">width</span>,
312:                 <span class="ruby-value">:horizontal_padding</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:horizontal_padding</span>),
313:                 <span class="ruby-value">:vertical_padding</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:vertical_padding</span>),
314:                 <span class="ruby-value">:border_width</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:border_width</span>),
315:                 <span class="ruby-value">:border_style</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-value">:sides</span>,
316:                 <span class="ruby-value">:align</span>              =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">align</span> 
317:               }
318: 
319:               <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) 
320:                 <span class="ruby-identifier">opts</span> = <span class="ruby-identifier">e</span>.<span class="ruby-identifier">dup</span>
321:                 <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:colspan</span>)
322:                 <span class="ruby-identifier">cell_options</span>.<span class="ruby-identifier">update</span>(<span class="ruby-identifier">opts</span>)
323:               <span class="ruby-keyword kw">end</span>
324: 
325:               <span class="ruby-identifier">c</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Table</span><span class="ruby-operator">::</span><span class="ruby-constant">Cell</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">cell_options</span>)
326:             <span class="ruby-keyword kw">end</span>
327:             
328:             <span class="ruby-identifier">col_index</span> <span class="ruby-operator">+=</span> (<span class="ruby-identifier">e</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">e</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-value">:colspan</span>)) <span class="ruby-operator">?</span> <span class="ruby-identifier">e</span>[<span class="ruby-value">:colspan</span>] <span class="ruby-operator">:</span> <span class="ruby-value">1</span>
329:           <span class="ruby-keyword kw">end</span>
330:                                               
331:           <span class="ruby-identifier">bbox</span> = <span class="ruby-ivar">@parent_bounds</span>.<span class="ruby-identifier">stretchy?</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">margin_box</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@parent_bounds</span>
332:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">y_pos</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">bbox</span>.<span class="ruby-identifier">absolute_bottom</span>
333:             <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">page_contents</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
334:               <span class="ruby-ivar">@parent_bounds</span>.<span class="ruby-identifier">move_past_bottom</span>
335:               <span class="ruby-identifier">y_pos</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span>
336:             <span class="ruby-keyword kw">else</span>
337:               <span class="ruby-identifier">draw_page</span>(<span class="ruby-identifier">page_contents</span>)
338:               <span class="ruby-ivar">@parent_bounds</span>.<span class="ruby-identifier">move_past_bottom</span>
339:               <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">page_contents</span>.<span class="ruby-identifier">any?</span>
340:                 <span class="ruby-identifier">page_contents</span> = [<span class="ruby-identifier">page_contents</span>[<span class="ruby-value">0</span>]]
341:                 <span class="ruby-identifier">y_pos</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">page_contents</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">height</span>
342:               <span class="ruby-keyword kw">else</span>
343:                 <span class="ruby-identifier">page_contents</span> = []
344:                 <span class="ruby-identifier">y_pos</span> = <span class="ruby-ivar">@document</span>.<span class="ruby-identifier">y</span>
345:               <span class="ruby-keyword kw">end</span>
346:             <span class="ruby-keyword kw">end</span>
347:           <span class="ruby-keyword kw">end</span>
348: 
349:           <span class="ruby-identifier">page_contents</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">c</span>
350: 
351:           <span class="ruby-identifier">y_pos</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">c</span>.<span class="ruby-identifier">height</span>
352: 
353:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">index</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">renderable_data</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>
354:             <span class="ruby-identifier">draw_page</span>(<span class="ruby-identifier">page_contents</span>)
355:           <span class="ruby-keyword kw">end</span>
356: 
357:         <span class="ruby-keyword kw">end</span>
358:       <span class="ruby-keyword kw">end</span>
359:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="next-row-color-method" class="method-detail ">
				<a name="method-i-next_row_color"></a>

				<div class="method-heading">
				
					<span class="method-name">next_row_color</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="next-row-color-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 403</span>
403:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">next_row_color</span>
404:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>).<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)
405: 
406:       <span class="ruby-identifier">color</span> = <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>).<span class="ruby-identifier">shift</span>
407:       <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>).<span class="ruby-identifier">push</span>(<span class="ruby-identifier">color</span>)
408:       <span class="ruby-identifier">color</span>
409:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="renderable-data-method" class="method-detail ">
				<a name="method-i-renderable_data"></a>

				<div class="method-heading">
				
					<span class="method-name">renderable_data</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="renderable-data-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 258</span>
258:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">renderable_data</span>
259:       <span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>) <span class="ruby-operator">?</span> [<span class="ruby-constant">C</span>(<span class="ruby-value">:headers</span>)] <span class="ruby-operator">+</span> <span class="ruby-ivar">@data</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@data</span>
260:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
			<div id="reset-row-colors-method" class="method-detail ">
				<a name="method-i-reset_row_colors"></a>

				<div class="method-heading">
				
					<span class="method-name">reset_row_colors</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					
					

					
					<div class="method-source-code"
						id="reset-row-colors-source">
<pre>
     <span class="ruby-comment cmt"># File lib/prawn/table.rb, line 411</span>
411:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_row_colors</span>    
412:       <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:original_row_colors</span>).<span class="ruby-identifier">dup</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-constant">C</span>(<span class="ruby-value">:row_colors</span>)
413:     <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

