<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: Prawn::Document</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">Prawn::Document</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/prawn/font_rb.html">
                lib/prawn/font.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/repeater_rb.html">
                lib/prawn/repeater.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/security_rb.html">
                lib/prawn/security.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document_rb.html">
                lib/prawn/document.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/outline_rb.html">
                lib/prawn/outline.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/layout/page_rb.html">
                lib/prawn/layout/page.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/layout/grid_rb.html">
                lib/prawn/layout/grid.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/table_rb.html">
                lib/prawn/table.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/table/cell_rb.html">
                lib/prawn/table/cell.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document/page_geometry_rb.html">
                lib/prawn/document/page_geometry.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document/snapshot_rb.html">
                lib/prawn/document/snapshot.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document/column_box_rb.html">
                lib/prawn/document/column_box.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document/internals_rb.html">
                lib/prawn/document/internals.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document/span_rb.html">
                lib/prawn/document/span.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document/graphics_state_rb.html">
                lib/prawn/document/graphics_state.rb
                </a>
        <br />
                <a href="../../files/lib/prawn/document/bounding_box_rb.html">
                lib/prawn/document/bounding_box.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                Object
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
The <a href="Document.html">Prawn::Document</a> class is how you start
creating a PDF document.
</p>
<p>
There are three basic ways you can instantiate PDF Documents in <a
href="../Prawn.html">Prawn</a>, they are through assignment, implicit block
or explicit block. Below is an exmple of each type, each example does
exactly the same thing, makes a PDF document with all the defaults and puts
in the default <a href="Document.html#M000239">font</a> &quot;Hello
There&quot; and then saves it to the current directory as
&quot;example.pdf&quot;
</p>
<p>
For example, assignment can be like this:
</p>
<pre>
  pdf = Prawn::Document.new
  pdf.text &quot;Hello There&quot;
  pdf.render_file &quot;example.pdf&quot;
</pre>
<p>
Or you can do an implied block form:
</p>
<pre>
  Prawn::Document.generate &quot;example.pdf&quot; do
    text &quot;Hello There&quot;
  end
</pre>
<p>
Or if you need to access a variable outside the scope of the block, the
explicit block form:
</p>
<pre>
  words = &quot;Hello There&quot;
  Prawn::Document.generate &quot;example.pdf&quot; do |pdf|
    pdf.text words
  end
</pre>
<p>
Usually, the block forms are used when you are simply creating a PDF
document that you want to immediately save or <a
href="Document.html#M000258">render</a> out.
</p>
<p>
See the <a href="Document.html#M000248">new</a> and <a
href="Document.html#M000247">generate</a> methods for further details on
the above.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000283">bounding_box</a>&nbsp;&nbsp;
      <a href="#M000260">bounds</a>&nbsp;&nbsp;
      <a href="#M000261">bounds=</a>&nbsp;&nbsp;
      <a href="#M000284">canvas</a>&nbsp;&nbsp;
      <a href="#M000280">cell</a>&nbsp;&nbsp;
      <a href="#M000281">column_box</a>&nbsp;&nbsp;
      <a href="#M000270">compression_enabled?</a>&nbsp;&nbsp;
      <a href="#M000255">cursor</a>&nbsp;&nbsp;
      <a href="#M000276">define_grid</a>&nbsp;&nbsp;
      <a href="#M000271">define_outline</a>&nbsp;&nbsp;
      <a href="#M000246">extensions</a>&nbsp;&nbsp;
      <a href="#M000257">float</a>&nbsp;&nbsp;
      <a href="#M000239">font</a>&nbsp;&nbsp;
      <a href="#M000242">font_families</a>&nbsp;&nbsp;
      <a href="#M000240">font_size</a>&nbsp;&nbsp;
      <a href="#M000247">generate</a>&nbsp;&nbsp;
      <a href="#M000253">go_to_page</a>&nbsp;&nbsp;
      <a href="#M000277">grid</a>&nbsp;&nbsp;
      <a href="#M000268">group</a>&nbsp;&nbsp;
      <a href="#M000267">indent</a>&nbsp;&nbsp;
      <a href="#M000274">lazy_bounding_box</a>&nbsp;&nbsp;
      <a href="#M000279">make_table</a>&nbsp;&nbsp;
      <a href="#M000256">move_cursor_to</a>&nbsp;&nbsp;
      <a href="#M000263">move_down</a>&nbsp;&nbsp;
      <a href="#M000262">move_up</a>&nbsp;&nbsp;
      <a href="#M000248">new</a>&nbsp;&nbsp;
      <a href="#M000269">number_pages</a>&nbsp;&nbsp;
      <a href="#M000273">outline</a>&nbsp;&nbsp;
      <a href="#M000272">outline_root</a>&nbsp;&nbsp;
      <a href="#M000266">pad</a>&nbsp;&nbsp;
      <a href="#M000265">pad_bottom</a>&nbsp;&nbsp;
      <a href="#M000264">pad_top</a>&nbsp;&nbsp;
      <a href="#M000275">padded_box</a>&nbsp;&nbsp;
      <a href="#M000250">page</a>&nbsp;&nbsp;
      <a href="#M000252">page_count</a>&nbsp;&nbsp;
      <a href="#M000258">render</a>&nbsp;&nbsp;
      <a href="#M000259">render_file</a>&nbsp;&nbsp;
      <a href="#M000245">repeat</a>&nbsp;&nbsp;
      <a href="#M000244">repeaters</a>&nbsp;&nbsp;
      <a href="#M000241">save_font</a>&nbsp;&nbsp;
      <a href="#M000282">span</a>&nbsp;&nbsp;
      <a href="#M000251">start_new_page</a>&nbsp;&nbsp;
      <a href="#M000249">state</a>&nbsp;&nbsp;
      <a href="#M000278">table</a>&nbsp;&nbsp;
      <a href="#M000243">width_of</a>&nbsp;&nbsp;
      <a href="#M000254">y=</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name"><a href="Document/Internals.html">Prawn::Document::Internals</a></span>
        <span class="include-name"><a href="Core/Annotations.html">Prawn::Core::Annotations</a></span>
        <span class="include-name"><a href="Core/Destinations.html">Prawn::Core::Destinations</a></span>
        <span class="include-name"><a href="Document/Snapshot.html">Prawn::Document::Snapshot</a></span>
        <span class="include-name"><a href="Document/GraphicsState.html">Prawn::Document::GraphicsState</a></span>
        <span class="include-name"><a href="Document/Security.html">Prawn::Document::Security</a></span>
        <span class="include-name"><a href="Text.html">Prawn::Text</a></span>
        <span class="include-name"><a href="Graphics.html">Prawn::Graphics</a></span>
        <span class="include-name"><a href="Images.html">Prawn::Images</a></span>
        <span class="include-name"><a href="Stamp.html">Prawn::Stamp</a></span>
      </div>
    </div>

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="Document/GraphicsState.html" class="link">Prawn::Document::GraphicsState</a><br />
Module <a href="Document/Internals.html" class="link">Prawn::Document::Internals</a><br />
Module <a href="Document/PageGeometry.html" class="link">Prawn::Document::PageGeometry</a><br />
Module <a href="Document/Security.html" class="link">Prawn::Document::Security</a><br />
Module <a href="Document/Snapshot.html" class="link">Prawn::Document::Snapshot</a><br />
Class <a href="Document/BoundingBox.html" class="link">Prawn::Document::BoundingBox</a><br />
Class <a href="Document/Box.html" class="link">Prawn::Document::Box</a><br />
Class <a href="Document/ColumnBox.html" class="link">Prawn::Document::ColumnBox</a><br />
Class <a href="Document/Grid.html" class="link">Prawn::Document::Grid</a><br />
Class <a href="Document/LazyBoundingBox.html" class="link">Prawn::Document::LazyBoundingBox</a><br />
Class <a href="Document/MultiBox.html" class="link">Prawn::Document::MultiBox</a><br />

    </div>




    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">default_formatted_line_wrap</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">default_unformatted_line_wrap</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">font_size</td>
          <td class="context-item-value">&nbsp;[W]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">margin_box</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">margins</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">page_number</td>
          <td class="context-item-value">&nbsp;[RW]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">y</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000246" class="method-detail">
        <a name="M000246"></a>

        <div class="method-heading">
          <a href="#M000246" class="method-signature">
          <span class="method-name">extensions</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Any module added to this array will be included into instances of <a
href="Document.html">Prawn::Document</a> at the per-object level. These
will also be inherited by any subclasses.
</p>
<p>
Example:
</p>
<pre>
  module MyFancyModule

    def party!
      text &quot;It's a big party!&quot;
    end

  end

  Prawn::Document.extensions &lt;&lt; MyFancyModule

  Prawn::Document.generate(&quot;foo.pdf&quot;) do
    party!
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000246-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000246-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 85</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">extensions</span>
      <span class="ruby-ivar">@extensions</span> <span class="ruby-operator">||=</span> []
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000247" class="method-detail">
        <a name="M000247"></a>

        <div class="method-heading">
          <a href="#M000247" class="method-signature">
          <span class="method-name">generate</span><span class="method-args">(filename,options={},&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates and renders a PDF document.
</p>
<p>
When using the implicit block form, <a href="../Prawn.html">Prawn</a> will
evaluate the block within an instance of <a
href="Document.html">Prawn::Document</a>, simplifying your syntax. However,
please note that you will not be able to reference variables from the
enclosing scope within this block.
</p>
<pre>
  # Using implicit block form and rendering to a file
  Prawn::Document.generate &quot;example.pdf&quot; do
    # self here is set to the newly instantiated Prawn::Document
    # and so any variables in the outside scope are unavailable
    font &quot;Times-Roman&quot;
    draw_text &quot;Hello World&quot;, :at =&gt; [200,720], :size =&gt; 32
  end
</pre>
<p>
If you need to access your local and instance variables, use the explicit
block form shown below. In this case, <a href="../Prawn.html">Prawn</a>
yields an instance of PDF::Document and the block is an ordinary closure:
</p>
<pre>
  # Using explicit block form and rendering to a file
  content = &quot;Hello World&quot;
  Prawn::Document.generate &quot;example.pdf&quot; do |pdf|
    # self here is left alone
    pdf.font &quot;Times-Roman&quot;
    pdf.draw_text content, :at =&gt; [200,720], :size =&gt; 32
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000247-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000247-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 120</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">generate</span>(<span class="ruby-identifier">filename</span>,<span class="ruby-identifier">options</span>={},<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">pdf</span> = <span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">pdf</span>.<span class="ruby-identifier">render_file</span>(<span class="ruby-identifier">filename</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000248" class="method-detail">
        <a name="M000248"></a>

        <div class="method-heading">
          <a href="#M000248" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(options={},&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates a <a href="Document.html#M000248">new</a> PDF <a
href="Document.html">Document</a>. The following options are available
(with the default values marked in [])
</p>
<table>
<tr><td valign="top"><tt>:page_size</tt>:</td><td>One of the <a href="Document/PageGeometry.html">Document::PageGeometry</a>
sizes [LETTER]

</td></tr>
<tr><td valign="top"><tt>:page_layout</tt>:</td><td>Either <tt>:portrait</tt> or <tt>:landscape</tt>

</td></tr>
<tr><td valign="top"><tt>:margin</tt>:</td><td>Sets the margin on all sides in points [0.5 inch]

</td></tr>
<tr><td valign="top"><tt>:left_margin</tt>:</td><td>Sets the left margin in points [0.5 inch]

</td></tr>
<tr><td valign="top"><tt>:right_margin</tt>:</td><td>Sets the right margin in points [0.5 inch]

</td></tr>
<tr><td valign="top"><tt>:top_margin</tt>:</td><td>Sets the top margin in points [0.5 inch]

</td></tr>
<tr><td valign="top"><tt>:bottom_margin</tt>:</td><td>Sets the bottom margin in points [0.5 inch]

</td></tr>
<tr><td valign="top"><tt>:skip_page_creation</tt>:</td><td>Creates a document without starting the first <a
href="Document.html#M000250">page</a> [false]

</td></tr>
<tr><td valign="top"><tt>:compress</tt>:</td><td>Compresses content streams before rendering them [false]

</td></tr>
<tr><td valign="top"><tt>:optimize_objects</tt>:</td><td>Reduce number of PDF objects in output, at expense of <a
href="Document.html#M000258">render</a> time [false]

</td></tr>
<tr><td valign="top"><tt>:background</tt>:</td><td>An image path to be used as background on all pages [nil]

</td></tr>
<tr><td valign="top"><tt>:info</tt>:</td><td>Generic hash allowing for custom metadata properties [nil]

</td></tr>
<tr><td valign="top"><tt>:text_options</tt>:</td><td>A set of default options to be handed to text(). Be careful with this.

</td></tr>
</table>
<p>
Setting e.g. the :margin to 100 points and the :left_margin to 50 will
result in margins of 100 points on every side except for the left, where it
will be 50.
</p>
<p>
The :margin can also be an array much like CSS shorthand:
</p>
<pre>
  # Top and bottom are 20, left and right are 100.
  :margin =&gt; [20, 100]
  # Top is 50, left and right are 100, bottom is 20.
  :margin =&gt; [50, 100, 20]
  # Top is 10, right is 20, bottom is 30, left is 40.
  :margin =&gt; [10, 20, 30, 40]
</pre>
<p>
Additionally, :page_size can be specified as a simple two value array
giving the width and height of the document you need in PDF Points.
</p>
<p>
Usage:
</p>
<pre>
  # New document, US Letter paper, portrait orientation
  pdf = Prawn::Document.new

  # New document, A4 paper, landscaped
  pdf = Prawn::Document.new(:page_size =&gt; &quot;A4&quot;, :page_layout =&gt; :landscape)

  # New document, Custom size
  pdf = Prawn::Document.new(:page_size =&gt; [200, 300])

  # New document, with background
  pdf = Prawn::Document.new(:background =&gt; &quot;#{Prawn::BASEDIR}/data/images/pigs.jpg&quot;)
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000248-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000248-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 171</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">options</span>={},<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)   
       <span class="ruby-constant">Prawn</span>.<span class="ruby-identifier">verify_options</span> [<span class="ruby-identifier">:page_size</span>, <span class="ruby-identifier">:page_layout</span>, <span class="ruby-identifier">:margin</span>, <span class="ruby-identifier">:left_margin</span>, 
         <span class="ruby-identifier">:right_margin</span>, <span class="ruby-identifier">:top_margin</span>, <span class="ruby-identifier">:bottom_margin</span>, <span class="ruby-identifier">:skip_page_creation</span>, 
         <span class="ruby-identifier">:compress</span>, <span class="ruby-identifier">:skip_encoding</span>, <span class="ruby-identifier">:text_options</span>, <span class="ruby-identifier">:background</span>, <span class="ruby-identifier">:info</span>,
         <span class="ruby-identifier">:optimize_objects</span>], <span class="ruby-identifier">options</span>

       <span class="ruby-comment cmt"># need to fix, as the refactoring breaks this</span>
       <span class="ruby-comment cmt"># raise NotImplementedError if options[:skip_page_creation]</span>

       <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">extensions</span>.<span class="ruby-identifier">reverse_each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">e</span><span class="ruby-operator">|</span> <span class="ruby-identifier">extend</span> <span class="ruby-identifier">e</span> }
       <span class="ruby-ivar">@internal_state</span> = <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Core</span><span class="ruby-operator">::</span><span class="ruby-constant">DocumentState</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">options</span>)

       <span class="ruby-ivar">@background</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:background</span>]
       <span class="ruby-ivar">@font_size</span>  = <span class="ruby-value">12</span>

       <span class="ruby-ivar">@bounding_box</span>  = <span class="ruby-keyword kw">nil</span>
       <span class="ruby-ivar">@margin_box</span>    = <span class="ruby-keyword kw">nil</span>

       <span class="ruby-ivar">@text_options</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:text_options</span>] <span class="ruby-operator">||</span> {}
       <span class="ruby-ivar">@default_unformatted_line_wrap</span> = <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">LineWrap</span>.<span class="ruby-identifier">new</span>
       <span class="ruby-ivar">@default_formatted_line_wrap</span> = <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Text</span><span class="ruby-operator">::</span><span class="ruby-constant">Formatted</span><span class="ruby-operator">::</span><span class="ruby-constant">LineWrap</span>.<span class="ruby-identifier">new</span>

       <span class="ruby-ivar">@page_number</span> = <span class="ruby-value">0</span>

       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:size</span>] = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:page_size</span>)
       <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:layout</span>] = <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:page_layout</span>)

       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:skip_page_creation</span>]
         <span class="ruby-identifier">start_new_page</span>(<span class="ruby-identifier">options</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:orphan</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>))
       <span class="ruby-keyword kw">else</span>
         <span class="ruby-identifier">start_new_page</span>(<span class="ruby-identifier">options</span>)
       <span class="ruby-keyword kw">end</span>
       
       <span class="ruby-ivar">@bounding_box</span> = <span class="ruby-ivar">@margin_box</span>
       
       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
         <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-operator">:</span> <span class="ruby-identifier">block</span>[<span class="ruby-keyword kw">self</span>]
       <span class="ruby-keyword kw">end</span>
     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000283" class="method-detail">
        <a name="M000283"></a>

        <div class="method-heading">
          <a href="#M000283" class="method-signature">
          <span class="method-name">bounding_box(point, options={}, &block) <br />
</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A bounding box serves two important purposes:
</p>
<ul>
<li>Provide <a href="Document.html#M000260">bounds</a> for flowing text,
starting at a given point

</li>
<li>Translate the origin (0,0) for graphics primitives

</li>
</ul>
<p>
A point and :width must be provided. :height is optional. (See stretchyness
below)
</p>
<h2>Positioning</h2>
<p>
Bounding boxes are positioned relative to their top left corner and the
width measurement is towards the right and height measurement is downwards.
</p>
<p>
Usage:
</p>
<ul>
<li>Bounding box 100pt x 100pt in the absolute bottom left of the containing
box:

<p>
pdf.bounding_box([0,100], :width =&gt; 100, :height =&gt; 100)
</p>
<pre>
  stroke_bounds
</pre>
<p>
end
</p>
</li>
<li>Bounding box 200pt x 400pt high in the center of the <a
href="Document.html#M000250">page</a>:

<p>
x_pos = ((bounds.width / 2) - 150) y_pos = ((bounds.height / 2) + 200)
pdf.bounding_box([x_pos, y_pos], :width =&gt; 300, :height =&gt; 400) do
</p>
<pre>
  stroke_bounds
</pre>
<p>
end
</p>
</li>
</ul>
<h2>Flowing <a href="Text.html">Text</a></h2>
<p>
When flowing text, the usage of a bounding box is simple. <a
href="Text.html">Text</a> will begin at the point specified, flowing the
width of the bounding box. After the block exits, the <a
href="Document.html#M000255">cursor</a> position will be moved to the
bottom of the bounding box (y - height). If flowing text exceeds the height
of the bounding box, the text will be continued on the next <a
href="Document.html#M000250">page</a>, starting again at the top-left
corner of the bounding box.
</p>
<p>
Usage:
</p>
<pre>
  pdf.bounding_box([100,500], :width =&gt; 100, :height =&gt; 300) do
    pdf.text &quot;This text will flow in a very narrow box starting&quot; +
     &quot;from [100,500]. The pointer will then be moved to [100,200]&quot; +
     &quot;and return to the margin_box&quot;
  end
</pre>
<p>
Note, this is a low level tool and is designed primarily for building other
abstractions. If you just need to flow text on the <a
href="Document.html#M000250">page</a>, you will want to look at <a
href="Document.html#M000282">span</a>() and text_box() instead
</p>
<h2>Translating Coordinates</h2>
<p>
When translating coordinates, the idea is to allow the user to draw
relative to the origin, and then translate their drawing to a specified
area of the document, rather than adjust all their drawing coordinates to
match this <a href="Document.html#M000248">new</a> region.
</p>
<p>
Take for example two triangles which share one point, drawn from the
origin:
</p>
<pre>
  pdf.polygon [0,250], [0,0], [150,100]
  pdf.polygon [100,0], [150,100], [200,0]
</pre>
<p>
It would be easy enough to translate these triangles to another point, e.g
[200,200]
</p>
<pre>
  pdf.polygon [200,450], [200,200], [350,300]
  pdf.polygon [300,200], [350,300], [400,200]
</pre>
<p>
However, each time you want to move the drawing, you&#8216;d need to alter
every point in the drawing calls, which as you might imagine, can become
tedious.
</p>
<p>
If instead, we think of the drawing as being bounded by a box, we can see
that the image is 200 points wide by 250 points tall.
</p>
<p>
To translate it to a <a href="Document.html#M000248">new</a> origin, we
simply select a point at (x,y+height)
</p>
<p>
Using the [200,200] example:
</p>
<pre>
  pdf.bounding_box([200,450], :width =&gt; 200, :height =&gt; 250) do
    pdf.stroke do
      pdf.polygon [0,250], [0,0], [150,100]
      pdf.polygon [100,0], [150,100], [200,0]
    end
  end
</pre>
<p>
Notice that the drawing is still relative to the origin. If we want to move
this drawing around the document, we simply need to recalculate the
top-left corner of the rectangular bounding-box, and all of our graphics
calls remain unmodified.
</p>
<h2>Nesting Bounding Boxes</h2>
<p>
At the top level, bounding boxes are specified relative to the
document&#8216;s margin_box (which is itself a bounding box). You can also
nest bounding boxes, allowing you to build components which are relative to
each other
</p>
<p>
Usage:
</p>
<pre>
 pdf.bounding_box([200,450], :width =&gt; 200, :height =&gt; 250) do
   pdf.stroke_bounds   # Show the containing bounding box
   pdf.bounding_box([50,200], :width =&gt; 50, :height =&gt; 50) do
     # a 50x50 bounding box that starts 50 pixels left and 50 pixels down
     # the parent bounding box.
     pdf.stroke_bounds
   end
 end
</pre>
<h2>Stretchyness</h2>
<p>
If you do not specify a height to a bounding box, it will become stretchy
and its height will be calculated automatically as you stretch the box
downwards.
</p>
<pre>
 pdf.bounding_box([100,400], :width =&gt; 400) do
   pdf.text(&quot;The height of this box is #{pdf.bounds.height}&quot;)
   pdf.text('this is some text')
   pdf.text('this is some more text')
   pdf.text('and finally a bit more')
   pdf.text(&quot;Now the height of this box is #{pdf.bounds.height}&quot;)
 end
</pre>
<h2>Absolute Positioning</h2>
<p>
If you wish to position the bounding boxes at absolute coordinates rather
than relative to the margins or other bounding boxes, you can use <a
href="Document.html#M000284">canvas</a>()
</p>
<pre>
 pdf.bounding_box([50,500], :width =&gt; 200, :height =&gt; 300) do
   pdf.stroke_bounds
   pdf.canvas do
     Positioned outside the containing box at the 'real' (300,450)
     pdf.bounding_box([300,450], :width =&gt; 200, :height =&gt; 200) do
       pdf.stroke_bounds
     end
   end
 end
</pre>
<p>
Of course, if you use <a href="Document.html#M000284">canvas</a>, you will
be responsible for ensuring that you remain within the printable area of
your document.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000283-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000283-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document/bounding_box.rb, line 157</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bounding_box</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)    
      <span class="ruby-identifier">init_bounding_box</span>(<span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">map_to_absolute!</span>(<span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>])     
        <span class="ruby-ivar">@bounding_box</span> = <span class="ruby-constant">BoundingBox</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)   
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000260" class="method-detail">
        <a name="M000260"></a>

        <div class="method-heading">
          <a href="#M000260" class="method-signature">
          <span class="method-name">bounds</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="Document.html#M000260">bounds</a> method returns the current
bounding box you are currently in, which is by default the box represented
by the margin box on the document itself. When called from within a created
<tt><a href="Document.html#M000283">bounding_box</a></tt> block, the box
defined by that call will be returned instead of the document margin box.
</p>
<p>
Another important point about bounding boxes is that all x and y
measurements within a bounding box code block are relative to the bottom
left corner of the bounding box.
</p>
<p>
For example:
</p>
<pre>
 Prawn::Document.new do
   # In the default &quot;margin box&quot; of a Prawn document of 0.5in along each edge

   # Draw a border around the page (the manual way)
   stroke do
     line(bounds.bottom_left, bounds.bottom_right)
     line(bounds.bottom_right, bounds.top_right)
     line(bounds.top_right, bounds.top_left)
     line(bounds.top_left, bounds.bottom_left)
   end

   # Draw a border around the page (the easy way)
   stroke_bounds
 end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000260-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000260-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 385</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bounds</span>
      <span class="ruby-ivar">@bounding_box</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000261" class="method-detail">
        <a name="M000261"></a>

        <div class="method-heading">
          <a href="#M000261" class="method-signature">
          <span class="method-name">bounds=</span><span class="method-args">(bounding_box)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Sets <a href="Document.html#M000260">Document#bounds</a> to the <a
href="Document/BoundingBox.html">BoundingBox</a> provided. See above for a
brief description of what a bounding box is. This function is useful if you
really need to change the bounding box manually, but usually, just entering
and exiting bounding box code blocks is good enough.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000261-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000261-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 394</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">bounds=</span>(<span class="ruby-identifier">bounding_box</span>)
      <span class="ruby-ivar">@bounding_box</span> = <span class="ruby-identifier">bounding_box</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000284" class="method-detail">
        <a name="M000284"></a>

        <div class="method-heading">
          <a href="#M000284" class="method-signature">
          <span class="method-name">canvas</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A shortcut to produce a bounding box which is mapped to the
document&#8216;s absolute coordinates, regardless of how things are nested
or margin sizes.
</p>
<pre>
  pdf.canvas do
    pdf.line pdf.bounds.bottom_left, pdf.bounds.top_right
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000284-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000284-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document/bounding_box.rb, line 171</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">canvas</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)     
      <span class="ruby-identifier">init_bounding_box</span>(<span class="ruby-identifier">block</span>, <span class="ruby-identifier">:hold_position</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span><span class="ruby-operator">|</span>
        <span class="ruby-ivar">@bounding_box</span> = <span class="ruby-constant">BoundingBox</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, [<span class="ruby-value">0</span>,<span class="ruby-identifier">page</span>.<span class="ruby-identifier">dimensions</span>[<span class="ruby-value">3</span>]], 
          <span class="ruby-identifier">:width</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page</span>.<span class="ruby-identifier">dimensions</span>[<span class="ruby-value">2</span>], 
          <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">page</span>.<span class="ruby-identifier">dimensions</span>[<span class="ruby-value">3</span>] 
        ) 
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000280" class="method-detail">
        <a name="M000280"></a>

        <div class="method-heading">
          <a href="#M000280" class="method-signature">
          <span class="method-name">cell</span><span class="method-args">(options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Instantiates and draws a <a href="Document.html#M000280">cell</a> on the
document.
</p>
<pre>
  cell(:content =&gt; &quot;Hello world!&quot;, :at =&gt; [12, 34])
</pre>
<p>
See Prawn::Table::Cell.make for full options.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000280-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000280-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/table/cell.rb, line 18</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cell</span>(<span class="ruby-identifier">options</span>={})
      <span class="ruby-identifier">cell</span> = <span class="ruby-constant">Table</span><span class="ruby-operator">::</span><span class="ruby-constant">Cell</span>.<span class="ruby-identifier">make</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">options</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:content</span>), <span class="ruby-identifier">options</span>)
      <span class="ruby-identifier">cell</span>.<span class="ruby-identifier">draw</span>
      <span class="ruby-identifier">cell</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000281" class="method-detail">
        <a name="M000281"></a>

        <div class="method-heading">
          <a href="#M000281" class="method-signature">
          <span class="method-name">column_box</span><span class="method-args">(*args, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A column box is a bounding box with the additional property that when text
flows past the bottom, it will wrap first to another column on the same <a
href="Document.html#M000250">page</a>, and only flow to the next <a
href="Document.html#M000250">page</a> when all the columns are filled.
</p>
<p>
<a href="Document.html#M000281">column_box</a> accepts the same parameters
as <a href="Document.html#M000283">bounding_box</a>, as well as the number
of :columns and a :spacer (in points) between columns.
</p>
<p>
Defaults are :columns = 3 and :spacer = <a
href="Document.html#M000240">font_size</a>
</p>
<p>
Under PDF::Writer, &quot;spacer&quot; was known as &quot;gutter&quot;
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000281-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000281-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document/column_box.rb, line 24</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">column_box</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">init_column_box</span>(<span class="ruby-identifier">block</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">_</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">map_to_absolute!</span>(<span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>])
        <span class="ruby-ivar">@bounding_box</span> = <span class="ruby-constant">ColumnBox</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000270" class="method-detail">
        <a name="M000270"></a>

        <div class="method-heading">
          <a href="#M000270" class="method-signature">
          <span class="method-name">compression_enabled?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns true if content streams will be compressed before rendering, false
otherwise
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000270-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000270-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 532</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compression_enabled?</span>
      <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">state</span>.<span class="ruby-identifier">compress</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000255" class="method-detail">
        <a name="M000255"></a>

        <div class="method-heading">
          <a href="#M000255" class="method-signature">
          <span class="method-name">cursor</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The current y drawing position relative to the innermost bounding box, or
to the <a href="Document.html#M000250">page</a> margins at the top level.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000255-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000255-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 308</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">cursor</span>
      <span class="ruby-identifier">y</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">absolute_bottom</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000276" class="method-detail">
        <a name="M000276"></a>

        <div class="method-heading">
          <a href="#M000276" class="method-signature">
          <span class="method-name">define_grid</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Defines the <a href="Document.html#M000277">grid</a> system for a
particular document. Takes the number of rows and columns and the width to
use for the gutter as the keys :rows, :columns, :gutter, :row_gutter,
:column_gutter
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000276-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000276-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/layout/grid.rb, line 8</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">define_grid</span>(<span class="ruby-identifier">options</span> = {})
      <span class="ruby-ivar">@grid</span> = <span class="ruby-constant">Grid</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000271" class="method-detail">
        <a name="M000271"></a>

        <div class="method-heading">
          <a href="#M000271" class="method-signature">
          <span class="method-name">define_outline</span><span class="method-args">(&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
See <a href="Outline.html#M000204">Outline#define</a> below for
documentation
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000271-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000271-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/outline.rb, line 14</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">define_outline</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">outline</span>.<span class="ruby-identifier">define</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000257" class="method-detail">
        <a name="M000257"></a>

        <div class="method-heading">
          <a href="#M000257" class="method-signature">
          <span class="method-name">float</span><span class="method-args">() {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Executes a block and then restores the original y position
</p>
<pre>
  pdf.text &quot;A&quot;

  pdf.float do
    pdf.move_down 100
    pdf.text &quot;C&quot;
  end

  pdf.text &quot;B&quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000257-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000257-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 330</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">float</span> 
      <span class="ruby-identifier">mask</span>(<span class="ruby-identifier">:y</span>) { <span class="ruby-keyword kw">yield</span> }
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000239" class="method-detail">
        <a name="M000239"></a>

        <div class="method-heading">
          <a href="#M000239" class="method-signature">
          <span class="method-name">font</span><span class="method-args">(name=nil, options={}) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Without arguments, this returns the currently selected <a
href="Document.html#M000239">font</a>. Otherwise, it sets the current <a
href="Document.html#M000239">font</a>. When a block is used, the <a
href="Document.html#M000239">font</a> is applied transactionally and is
rolled back when the block exits.
</p>
<pre>
  Prawn::Document.generate(&quot;font.pdf&quot;) do
    text &quot;Default font is Helvetica&quot;

    font &quot;Times-Roman&quot;
    text &quot;Now using Times-Roman&quot;

    font(&quot;Chalkboard.ttf&quot;) do
      text &quot;Using TTF font from file Chalkboard.ttf&quot;
      font &quot;Courier&quot;, :style =&gt; :bold
      text &quot;You see this in bold Courier&quot;
    end

    text &quot;Times-Roman, again&quot;
  end
</pre>
<p>
The :name parameter must be a string. It can be one of the 14 built-in
fonts supported by PDF, or the location of a TTF file. The
Font::AFM::BUILT_INS array specifies the valid built in <a
href="Document.html#M000239">font</a> values.
</p>
<p>
If a ttf <a href="Document.html#M000239">font</a> is specified, the glyphs
necessary to <a href="Document.html#M000258">render</a> your document will
be embedded in the rendered PDF. This should be your preferred option in
most cases. It will increase the size of the resulting file, but also make
it more portable.
</p>
<p>
The options parameter is an optional hash providing size and style. To use
the :style option you need to map those <a
href="Document.html#M000239">font</a> styles to their respective <a
href="Document.html#M000239">font</a> files. See <a
href="Document.html#M000242">font_families</a> for more information.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000239-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000239-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/font.rb, line 48</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">font</span>(<span class="ruby-identifier">name</span>=<span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">options</span>={})
      <span class="ruby-keyword kw">return</span>((<span class="ruby-keyword kw">defined?</span>(<span class="ruby-ivar">@font</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-ivar">@font</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">font</span>(<span class="ruby-value str">&quot;Helvetica&quot;</span>)) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">state</span>.<span class="ruby-identifier">pages</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">state</span>.<span class="ruby-identifier">page</span>.<span class="ruby-identifier">in_stamp_stream?</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">NotOnPage</span> 
      <span class="ruby-keyword kw">end</span>
      
      <span class="ruby-identifier">new_font</span> = <span class="ruby-identifier">find_font</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">options</span>)

      <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>
        <span class="ruby-identifier">save_font</span> <span class="ruby-keyword kw">do</span>
          <span class="ruby-identifier">set_font</span>(<span class="ruby-identifier">new_font</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:size</span>])
          <span class="ruby-keyword kw">yield</span>
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">set_font</span>(<span class="ruby-identifier">new_font</span>, <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:size</span>])
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-ivar">@font</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000242" class="method-detail">
        <a name="M000242"></a>

        <div class="method-heading">
          <a href="#M000242" class="method-signature">
          <span class="method-name">font_families</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Hash that maps <a href="Document.html#M000239">font</a> family names to
their styled individual <a href="Document.html#M000239">font</a> names.
</p>
<p>
To add support for another <a href="Document.html#M000239">font</a> family,
append to this hash, e.g:
</p>
<pre>
  pdf.font_families.update(
   &quot;MyTrueTypeFamily&quot; =&gt; { :bold        =&gt; &quot;foo-bold.ttf&quot;,
                           :italic      =&gt; &quot;foo-italic.ttf&quot;,
                           :bold_italic =&gt; &quot;foo-bold-italic.ttf&quot;,
                           :normal      =&gt; &quot;foo.ttf&quot; })
</pre>
<p>
This will then allow you to use the fonts like so:
</p>
<pre>
  pdf.font(&quot;MyTrueTypeFamily&quot;, :style =&gt; :bold)
  pdf.text &quot;Some bold text&quot;
  pdf.font(&quot;MyTrueTypeFamily&quot;)
  pdf.text &quot;Some normal text&quot;
</pre>
<p>
This assumes that you have appropriate TTF fonts for each style you wish to
support.
</p>
<p>
By default the styles :bold, :italic, :bold_italic, and :normal are defined
for fonts &quot;Courier&quot;, &quot;Times-Roman&quot; and
&quot;Helvetica&quot;.
</p>
<p>
You probably want to provide those four styles, but are free to define
custom ones, like :thin, and use them in <a
href="Document.html#M000239">font</a> calls.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000242-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000242-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/font.rb, line 181</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">font_families</span>
      <span class="ruby-ivar">@font_families</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = {} }.<span class="ruby-identifier">merge!</span>(
        { <span class="ruby-value str">&quot;Courier&quot;</span>     =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:bold</span>        =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Courier-Bold&quot;</span>,
                             <span class="ruby-identifier">:italic</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Courier-Oblique&quot;</span>,
                             <span class="ruby-identifier">:bold_italic</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Courier-BoldOblique&quot;</span>,
                             <span class="ruby-identifier">:normal</span>      =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Courier&quot;</span> },

          <span class="ruby-value str">&quot;Times-Roman&quot;</span> =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:bold</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Times-Bold&quot;</span>,
                             <span class="ruby-identifier">:italic</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Times-Italic&quot;</span>,
                             <span class="ruby-identifier">:bold_italic</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Times-BoldItalic&quot;</span>,
                             <span class="ruby-identifier">:normal</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Times-Roman&quot;</span> },

          <span class="ruby-value str">&quot;Helvetica&quot;</span>   =<span class="ruby-operator">&gt;</span> { <span class="ruby-identifier">:bold</span>         =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Helvetica-Bold&quot;</span>,
                             <span class="ruby-identifier">:italic</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Helvetica-Oblique&quot;</span>,
                             <span class="ruby-identifier">:bold_italic</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Helvetica-BoldOblique&quot;</span>,
                             <span class="ruby-identifier">:normal</span>       =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;Helvetica&quot;</span> }
        })
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000240" class="method-detail">
        <a name="M000240"></a>

        <div class="method-heading">
          <a href="#M000240" class="method-signature">
          <span class="method-name">font_size</span><span class="method-args">(points=nil) {|: return| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
When called with no argument, returns the current <a
href="Document.html#M000239">font</a> size. When called with a single
argument but no block, sets the current <a
href="Document.html#M000239">font</a> size. When a block is used, the <a
href="Document.html#M000239">font</a> size is applied transactionally and
is rolled back when the block exits. You may still change the <a
href="Document.html#M000239">font</a> size within a transactional block for
individual text segments, or nested calls to <a
href="Document.html#M000240">font_size</a>.
</p>
<pre>
  Prawn::Document.generate(&quot;font_size.pdf&quot;) do
    font_size 16
    text &quot;At size 16&quot;

    font_size(10) do
      text &quot;At size 10&quot;
      text &quot;At size 6&quot;, :size =&gt; 6
      text &quot;At size 10&quot;
    end

    text &quot;At size 16&quot;
  end
</pre>
<p>
When called without an argument, this method returns the current <a
href="Document.html#M000239">font</a> size.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000240-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000240-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/font.rb, line 92</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">font_size</span>(<span class="ruby-identifier">points</span>=<span class="ruby-keyword kw">nil</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@font_size</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">points</span>
      <span class="ruby-identifier">size_before_yield</span> = <span class="ruby-ivar">@font_size</span>
      <span class="ruby-ivar">@font_size</span> = <span class="ruby-identifier">points</span>
      <span class="ruby-identifier">block_given?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">yield</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">return</span>
      <span class="ruby-ivar">@font_size</span> = <span class="ruby-identifier">size_before_yield</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000253" class="method-detail">
        <a name="M000253"></a>

        <div class="method-heading">
          <a href="#M000253" class="method-signature">
          <span class="method-name">go_to_page</span><span class="method-args">(k)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Re-opens the <a href="Document.html#M000250">page</a> with the given
(1-based) <a href="Document.html#M000250">page</a> number so that you can
draw on it. Does not restore <a href="Document.html#M000250">page</a> <a
href="Document.html#M000249">state</a> such as margins, <a
href="Document.html#M000250">page</a> orientation, or paper size, so
you&#8216;ll have to handle that yourself.
</p>
<p>
See <a href="Document.html#M000269">Prawn::Document#number_pages</a> for a
sample usage of this capability.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000253-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000253-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 295</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">go_to_page</span>(<span class="ruby-identifier">k</span>)
      <span class="ruby-ivar">@page_number</span> = <span class="ruby-identifier">k</span>
      <span class="ruby-identifier">state</span>.<span class="ruby-identifier">page</span> = <span class="ruby-identifier">state</span>.<span class="ruby-identifier">pages</span>[<span class="ruby-identifier">k</span><span class="ruby-operator">-</span><span class="ruby-value">1</span>]
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000277" class="method-detail">
        <a name="M000277"></a>

        <div class="method-heading">
          <a href="#M000277" class="method-signature">
          <span class="method-name">grid</span><span class="method-args">(*args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A method that can either be used to access a particular <a
href="Document.html#M000277">grid</a> on the <a
href="Document.html#M000250">page</a> or work with the <a
href="Document.html#M000277">grid</a> system directly.
</p>
<pre>
  @pdf.grid                 # Get the Grid directly
  @pdf.grid([0,1])          # Get the box at [0,1]
  @pdf.grid([0,1], [1,2])   # Get a multi-box spanning from [0,1] to [1,2]
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000277-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000277-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/layout/grid.rb, line 19</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">grid</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
      <span class="ruby-ivar">@boxes</span> <span class="ruby-operator">||=</span> {}
      <span class="ruby-ivar">@boxes</span>[<span class="ruby-identifier">args</span>] <span class="ruby-operator">||=</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">args</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-ivar">@grid</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">g1</span>, <span class="ruby-identifier">g2</span> = <span class="ruby-identifier">args</span>
        <span class="ruby-keyword kw">if</span>(<span class="ruby-identifier">g1</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">g2</span>.<span class="ruby-identifier">class</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Array</span> <span class="ruby-operator">&amp;&amp;</span> 
          <span class="ruby-identifier">g1</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">g2</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span>)
          <span class="ruby-identifier">multi_box</span>(<span class="ruby-identifier">single_box</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">g1</span>), <span class="ruby-identifier">single_box</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">g2</span>))
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">single_box</span>(<span class="ruby-identifier">g1</span>, <span class="ruby-identifier">g2</span>)
        <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000268" class="method-detail">
        <a name="M000268"></a>

        <div class="method-heading">
          <a href="#M000268" class="method-signature">
          <span class="method-name">group</span><span class="method-args">(second_attempt=false) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Attempts to <a href="Document.html#M000268">group</a> the given block
vertically within the current context. First attempts to <a
href="Document.html#M000258">render</a> it in the current position on the
current <a href="Document.html#M000250">page</a>. If that attempt
overflows, it is tried anew after starting a <a
href="Document.html#M000248">new</a> context (<a
href="Document.html#M000250">page</a> or column).
</p>
<p>
Raises CannotGroup if the provided content is too large to fit alone in the
current <a href="Document.html#M000250">page</a> or column.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000268-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000268-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 486</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">group</span>(<span class="ruby-identifier">second_attempt</span>=<span class="ruby-keyword kw">false</span>)
      <span class="ruby-identifier">old_bounding_box</span> = <span class="ruby-ivar">@bounding_box</span>
      <span class="ruby-ivar">@bounding_box</span> = <span class="ruby-constant">SimpleDelegator</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@bounding_box</span>)

      <span class="ruby-keyword kw">def</span> <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">move_past_bottom</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">RollbackTransaction</span>
      <span class="ruby-keyword kw">end</span>

      <span class="ruby-identifier">success</span> = <span class="ruby-identifier">transaction</span> { <span class="ruby-keyword kw">yield</span> }

      <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">success</span>
        <span class="ruby-identifier">raise</span> <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Errors</span><span class="ruby-operator">::</span><span class="ruby-constant">CannotGroup</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">second_attempt</span>
        <span class="ruby-identifier">old_bounding_box</span>.<span class="ruby-identifier">move_past_bottom</span>
        <span class="ruby-identifier">group</span>(<span class="ruby-identifier">second_attempt</span>=<span class="ruby-keyword kw">true</span>) { <span class="ruby-keyword kw">yield</span> }
      <span class="ruby-keyword kw">end</span> 

      <span class="ruby-ivar">@bounding_box</span> = <span class="ruby-identifier">old_bounding_box</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000267" class="method-detail">
        <a name="M000267"></a>

        <div class="method-heading">
          <a href="#M000267" class="method-signature">
          <span class="method-name">indent</span><span class="method-args">(x, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Indents the specified number of PDF points for the duration of the block
</p>
<pre>
 pdf.text &quot;some text&quot;
 pdf.indent(20) do
   pdf.text &quot;This is indented 20 points&quot;
 end
 pdf.text &quot;This starts 20 points left of the above line &quot; +
          &quot;and is flush with the first line&quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000267-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000267-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 463</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">indent</span>(<span class="ruby-identifier">x</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">indent</span>(<span class="ruby-identifier">x</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000274" class="method-detail">
        <a name="M000274"></a>

        <div class="method-heading">
          <a href="#M000274" class="method-signature">
          <span class="method-name">lazy_bounding_box</span><span class="method-args">(*args,&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A <a href="Document/LazyBoundingBox.html">LazyBoundingBox</a> is simply a
<a href="Document/BoundingBox.html">BoundingBox</a> with an action tied to
it to be executed later. The <a
href="Document.html#M000274">lazy_bounding_box</a> method takes the same
arguments as <a href="Document.html#M000283">bounding_box</a>, but returns
a <a href="Document/LazyBoundingBox.html">LazyBoundingBox</a> object
instead of executing the code block directly.
</p>
<p>
You can then call <a
href="Document/LazyBoundingBox.html#M000359">LazyBoundingBox#draw</a> at
any time (or multiple times if you wish), and the contents of the block
will then be run. This can be useful for assembling repeating <a
href="Document.html#M000250">page</a> elements or reusable components.
</p>
<pre>
 file = &quot;lazy_bounding_boxes.pdf&quot;
 Prawn::Document.generate(file, :skip_page_creation =&gt; true) do
   point = [bounds.right-50, bounds.bottom + 25]
   page_counter = lazy_bounding_box(point, :width =&gt; 50) do
     text &quot;Page: #{page_count}&quot;
   end

   10.times do
    start_new_page
     text &quot;Some text&quot;
     page_counter.draw
   end
 end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000274-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000274-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/layout/page.rb, line 34</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">lazy_bounding_box</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">map_to_absolute!</span>(<span class="ruby-identifier">args</span>[<span class="ruby-value">0</span>])  
      <span class="ruby-identifier">box</span> = <span class="ruby-constant">LazyBoundingBox</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
      <span class="ruby-identifier">box</span>.<span class="ruby-identifier">action</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">box</span> 
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000279" class="method-detail">
        <a name="M000279"></a>

        <div class="method-heading">
          <a href="#M000279" class="method-signature">
          <span class="method-name">make_table</span><span class="method-args">(data, options={}, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set up, but do not draw, a <a href="Document.html#M000278">table</a>.
Useful for creating subtables to be inserted into another <a
href="Table.html">Table</a>. Call <tt>draw</tt> on the resulting <a
href="Table.html">Table</a> to ink it.
</p>
<p>
See the documentation on <a href="Table.html">Prawn::Table</a> for details
on the arguments.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000279-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000279-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/table.rb, line 35</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">make_table</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-constant">Table</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>, <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000256" class="method-detail">
        <a name="M000256"></a>

        <div class="method-heading">
          <a href="#M000256" class="method-signature">
          <span class="method-name">move_cursor_to</span><span class="method-args">(new_y)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Moves to the specified y position in relative terms to the bottom margin.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000256-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000256-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 315</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_cursor_to</span>(<span class="ruby-identifier">new_y</span>)
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> = <span class="ruby-identifier">new_y</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">absolute_bottom</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000263" class="method-detail">
        <a name="M000263"></a>

        <div class="method-heading">
          <a href="#M000263" class="method-signature">
          <span class="method-name">move_down</span><span class="method-args">(n)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Moves down the document by n points relative to the current position inside
the current bounding box.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000263-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000263-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 408</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_down</span>(<span class="ruby-identifier">n</span>)
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">-=</span> <span class="ruby-identifier">n</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000262" class="method-detail">
        <a name="M000262"></a>

        <div class="method-heading">
          <a href="#M000262" class="method-signature">
          <span class="method-name">move_up</span><span class="method-args">(n)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Moves up the document by n points relative to the current position inside
the current bounding box.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000262-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000262-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 401</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">move_up</span>(<span class="ruby-identifier">n</span>)
      <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">n</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000269" class="method-detail">
        <a name="M000269"></a>

        <div class="method-heading">
          <a href="#M000269" class="method-signature">
          <span class="method-name">number_pages</span><span class="method-args">(string, position)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Specify a template for <a href="Document.html#M000250">page</a> numbering.
This should be called towards the end of document creation, after all your
content is already in place. In your template string, &lt;<a
href="Document.html#M000250">page</a>&gt; refers to the current <a
href="Document.html#M000250">page</a>, and &lt;total&gt; refers to the
total amount of pages in the doucment.
</p>
<p>
Example:
</p>
<pre>
  Prawn::Document.generate(&quot;page_with_numbering.pdf&quot;) do
    text &quot;Hai&quot;
    start_new_page
    text &quot;bai&quot;
    start_new_page
    text &quot;-- Hai again&quot;
    number_pages &quot;&lt;page&gt; in a total of &lt;total&gt;&quot;, [bounds.right - 50, 0]
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000269-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000269-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 521</span>
    <span class="ruby-keyword kw">def</span>  <span class="ruby-identifier">number_pages</span><span class="ruby-identifier">number_pages</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">position</span>)
      <span class="ruby-identifier">page_count</span>.<span class="ruby-identifier">times</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">go_to_page</span>(<span class="ruby-identifier">i</span><span class="ruby-operator">+</span><span class="ruby-value">1</span>)
        <span class="ruby-identifier">str</span> = <span class="ruby-identifier">string</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;&lt;page&gt;&quot;</span>,<span class="ruby-node">&quot;#{i+1}&quot;</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-value str">&quot;&lt;total&gt;&quot;</span>,<span class="ruby-node">&quot;#{page_count}&quot;</span>)
        <span class="ruby-identifier">draw_text</span> <span class="ruby-identifier">str</span>, <span class="ruby-identifier">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">position</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000273" class="method-detail">
        <a name="M000273"></a>

        <div class="method-heading">
          <a href="#M000273" class="method-signature">
          <span class="method-name">outline</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Lazily instantiates an <a href="Outline.html">Outline</a> object for
document. This is used as point of entry to methods to build the <a
href="Document.html#M000273">outline</a> tree.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000273-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000273-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/outline.rb, line 27</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">outline</span>
      <span class="ruby-ivar">@outline</span> <span class="ruby-operator">||=</span> <span class="ruby-constant">Outline</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000272" class="method-detail">
        <a name="M000272"></a>

        <div class="method-heading">
          <a href="#M000272" class="method-signature">
          <span class="method-name">outline_root</span><span class="method-args">(outline_root)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The <a href="Outline.html">Outline</a> dictionary (12.3.3) for this
document. It is lazily initialized, so that documents that do not have an
<a href="Document.html#M000273">outline</a> do not incur the additional
overhead.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000272-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000272-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/outline.rb, line 21</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">outline_root</span>(<span class="ruby-identifier">outline_root</span>)
      <span class="ruby-identifier">state</span>.<span class="ruby-identifier">store</span>.<span class="ruby-identifier">root</span>.<span class="ruby-identifier">data</span>[<span class="ruby-identifier">:Outlines</span>] <span class="ruby-operator">||=</span> <span class="ruby-identifier">ref!</span>(<span class="ruby-identifier">outline_root</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000266" class="method-detail">
        <a name="M000266"></a>

        <div class="method-heading">
          <a href="#M000266" class="method-signature">
          <span class="method-name">pad</span><span class="method-args">(y) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Moves down the document by y, executes a block, then moves down the
document by y again.
</p>
<pre>
  pdf.text &quot;some text&quot;
  pdf.pad(100) do
    pdf.text &quot;This is 100 points below the previous line of text&quot;
  end
  pdf.text &quot;This is 100 points below the previous line of text&quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000266-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000266-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 447</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pad</span>(<span class="ruby-identifier">y</span>)
      <span class="ruby-identifier">move_down</span>(<span class="ruby-identifier">y</span>)
      <span class="ruby-keyword kw">yield</span>
      <span class="ruby-identifier">move_down</span>(<span class="ruby-identifier">y</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000265" class="method-detail">
        <a name="M000265"></a>

        <div class="method-heading">
          <a href="#M000265" class="method-signature">
          <span class="method-name">pad_bottom</span><span class="method-args">(y) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Executes a block then moves down the document
</p>
<pre>
  pdf.text &quot;some text&quot;
  pdf.pad_bottom(100) do
    pdf.text &quot;This text appears right below the previous line of text&quot;
  end
  pdf.text &quot;This is 100 points below the previous line of text&quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000265-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000265-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 433</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pad_bottom</span>(<span class="ruby-identifier">y</span>)
      <span class="ruby-keyword kw">yield</span>
      <span class="ruby-identifier">move_down</span>(<span class="ruby-identifier">y</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000264" class="method-detail">
        <a name="M000264"></a>

        <div class="method-heading">
          <a href="#M000264" class="method-signature">
          <span class="method-name">pad_top</span><span class="method-args">(y) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Moves down the document and then executes a block.
</p>
<pre>
  pdf.text &quot;some text&quot;
  pdf.pad_top(100) do
    pdf.text &quot;This is 100 points below the previous line of text&quot;
  end
  pdf.text &quot;This text appears right below the previous line of text&quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000264-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000264-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 420</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">pad_top</span>(<span class="ruby-identifier">y</span>)
      <span class="ruby-identifier">move_down</span>(<span class="ruby-identifier">y</span>)
      <span class="ruby-keyword kw">yield</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000275" class="method-detail">
        <a name="M000275"></a>

        <div class="method-heading">
          <a href="#M000275" class="method-signature">
          <span class="method-name">padded_box</span><span class="method-args">(margin, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A bounding box with the same dimensions of its parents, minus a margin on
all sides
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000275-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000275-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/layout/page.rb, line 44</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">padded_box</span>(<span class="ruby-identifier">margin</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">bounding_box</span> [<span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">left</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">margin</span>, <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">top</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">margin</span>],
        <span class="ruby-identifier">:width</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">width</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">margin</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span>), 
        <span class="ruby-identifier">:height</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">height</span> <span class="ruby-operator">-</span> (<span class="ruby-identifier">margin</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span>), <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> 
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000250" class="method-detail">
        <a name="M000250"></a>

        <div class="method-heading">
          <a href="#M000250" class="method-signature">
          <span class="method-name">page</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000250-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000250-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 223</span>
     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">page</span>
       <span class="ruby-identifier">state</span>.<span class="ruby-identifier">page</span>
     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000252" class="method-detail">
        <a name="M000252"></a>

        <div class="method-heading">
          <a href="#M000252" class="method-signature">
          <span class="method-name">page_count</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the number of pages in the document
</p>
<pre>
  pdf = Prawn::Document.new
  pdf.page_count #=&gt; 1
  3.times { pdf.start_new_page }
  pdf.page_count #=&gt; 4
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000252-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000252-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 285</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">page_count</span>
      <span class="ruby-identifier">state</span>.<span class="ruby-identifier">page_count</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000258" class="method-detail">
        <a name="M000258"></a>

        <div class="method-heading">
          <a href="#M000258" class="method-signature">
          <span class="method-name">render</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders the PDF document to string
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000258-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000258-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 336</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render</span>
      <span class="ruby-identifier">output</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>
      <span class="ruby-identifier">finalize_all_page_contents</span>

      <span class="ruby-identifier">render_header</span>(<span class="ruby-identifier">output</span>)
      <span class="ruby-identifier">render_body</span>(<span class="ruby-identifier">output</span>)
      <span class="ruby-identifier">render_xref</span>(<span class="ruby-identifier">output</span>)
      <span class="ruby-identifier">render_trailer</span>(<span class="ruby-identifier">output</span>)
      <span class="ruby-identifier">str</span> = <span class="ruby-identifier">output</span>.<span class="ruby-identifier">string</span>
      <span class="ruby-identifier">str</span>.<span class="ruby-identifier">force_encoding</span>(<span class="ruby-value str">&quot;ASCII-8BIT&quot;</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">str</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">:force_encoding</span>)
      <span class="ruby-identifier">str</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000259" class="method-detail">
        <a name="M000259"></a>

        <div class="method-heading">
          <a href="#M000259" class="method-signature">
          <span class="method-name">render_file</span><span class="method-args">(filename)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Renders the PDF document to file.
</p>
<pre>
  pdf.render_file &quot;foo.pdf&quot;
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000259-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000259-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 353</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">render_file</span>(<span class="ruby-identifier">filename</span>)
      <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value str">&quot;Encoding&quot;</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">mode</span> = <span class="ruby-value str">&quot;wb:ASCII-8BIT&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">mode</span> = <span class="ruby-value str">&quot;wb&quot;</span>
      <span class="ruby-constant">File</span>.<span class="ruby-identifier">open</span>(<span class="ruby-identifier">filename</span>,<span class="ruby-identifier">mode</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">render</span> }
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000245" class="method-detail">
        <a name="M000245"></a>

        <div class="method-heading">
          <a href="#M000245" class="method-signature">
          <span class="method-name">repeat</span><span class="method-args">(page_filter, options={}, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Provides a way to execute a block of code repeatedly based on a
page_filter. Since <a href="Stamp.html">Stamp</a> is used under the hood,
this method is very space efficient.
</p>
<p>
Available <a href="Document.html#M000250">page</a> filters are:
</p>
<pre>
  :all        -- repeats on every page
  :odd        -- repeats on odd pages
  :even       -- repeats on even pages
  some_array  -- repeats on every page listed in the array
  some_range  -- repeats on every page included in the range
  some_lambda -- yields page number and repeats for true return values
</pre>
<p>
Also accepts an optional second argument for dynamic content which executes
the code in the context of the filtered pages without using a <a
href="Stamp.html">Stamp</a>.
</p>
<p>
Example:
</p>
<pre>
  Prawn::Document.generate(&quot;repeat.pdf&quot;, :skip_page_creation =&gt; true) do

    repeat :all do
      draw_text &quot;ALLLLLL&quot;, :at =&gt; bounds.top_left
    end

    repeat :odd do
      draw_text &quot;ODD&quot;, :at =&gt; [0,0]
    end

    repeat :even do
      draw_text &quot;EVEN&quot;, :at =&gt; [0,0]
    end

    repeat [1,2] do
      draw_text &quot;[1,2]&quot;, :at =&gt; [100,0]
    end

    repeat 2..4 do
      draw_text &quot;2..4&quot;, :at =&gt; [200,0]
    end

    repeat(lambda { |pg| pg % 3 == 0 }) do
      draw_text &quot;Every third&quot;, :at =&gt; [250, 20]
    end

    10.times do
      start_new_page
      draw_text &quot;A wonderful page&quot;, :at =&gt; [400,400]
    end

    repeat(:all, :dynamic =&gt; true) do
      text page_number, :at =&gt; [500, 0]
    end

  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000245-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000245-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/repeater.rb, line 76</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">repeat</span>(<span class="ruby-identifier">page_filter</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">repeaters</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Repeater</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">page_filter</span>, <span class="ruby-operator">!</span><span class="ruby-operator">!</span><span class="ruby-identifier">options</span>[<span class="ruby-identifier">:dynamic</span>], <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000244" class="method-detail">
        <a name="M000244"></a>

        <div class="method-heading">
          <a href="#M000244" class="method-signature">
          <span class="method-name">repeaters</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A list of all <a href="Document.html#M000244">repeaters</a> in the
document. See <a href="Document.html#M000245">Document#repeat</a> for
details
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000244-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000244-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/repeater.rb, line 18</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">repeaters</span>
      <span class="ruby-ivar">@repeaters</span> <span class="ruby-operator">||=</span> []
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000241" class="method-detail">
        <a name="M000241"></a>

        <div class="method-heading">
          <a href="#M000241" class="method-signature">
          <span class="method-name">save_font</span><span class="method-args">() {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Saves the current <a href="Document.html#M000239">font</a>, and then
yields. When the block finishes, the original <a
href="Document.html#M000239">font</a> is restored.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000241-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000241-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/font.rb, line 111</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">save_font</span>
      <span class="ruby-ivar">@font</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">find_font</span>(<span class="ruby-value str">&quot;Helvetica&quot;</span>)
      <span class="ruby-identifier">original_font</span> = <span class="ruby-ivar">@font</span>
      <span class="ruby-identifier">original_size</span> = <span class="ruby-ivar">@font_size</span>

      <span class="ruby-keyword kw">yield</span>
    <span class="ruby-keyword kw">ensure</span>
      <span class="ruby-identifier">set_font</span>(<span class="ruby-identifier">original_font</span>, <span class="ruby-identifier">original_size</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">original_font</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000282" class="method-detail">
        <a name="M000282"></a>

        <div class="method-heading">
          <a href="#M000282" class="method-signature">
          <span class="method-name">span</span><span class="method-args">(width, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
A <a href="Document.html#M000282">span</a> is a special purpose bounding
box that allows a column of elements to be positioned relative to the
margin_box.
</p>
<p>
Arguments:
</p>
<table>
<tr><td valign="top"><tt>width</tt>:</td><td>The width of the column in PDF points

</td></tr>
</table>
<p>
Options:
</p>
<table>
<tr><td valign="top"><tt>:position</tt>:</td><td>One of :left, :center, :right or an x offset

</td></tr>
</table>
<p>
This method is typically used for flowing a column of text from one <a
href="Document.html#M000250">page</a> to the next.
</p>
<pre>
 span(350, :position =&gt; :center) do
   text &quot;Here's some centered text in a 350 point column. &quot; * 100
 end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000282-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000282-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document/span.rb, line 27</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">span</span>(<span class="ruby-identifier">width</span>, <span class="ruby-identifier">options</span>={})
      <span class="ruby-constant">Prawn</span>.<span class="ruby-identifier">verify_options</span> [<span class="ruby-identifier">:position</span>], <span class="ruby-identifier">options</span>
      <span class="ruby-identifier">original_position</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">y</span>      
     
      <span class="ruby-comment cmt"># FIXME: Any way to move this upstream?</span>
      <span class="ruby-identifier">left_boundary</span> = <span class="ruby-keyword kw">case</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:position</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">:left</span>)
      <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:left</span>
        <span class="ruby-identifier">margin_box</span>.<span class="ruby-identifier">absolute_left</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-identifier">:center</span>
        <span class="ruby-identifier">margin_box</span>.<span class="ruby-identifier">absolute_left</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">margin_box</span>.<span class="ruby-identifier">width</span> <span class="ruby-operator">/</span> <span class="ruby-value">2.0</span> <span class="ruby-operator">-</span> <span class="ruby-identifier">width</span> <span class="ruby-regexp re">/2.0
      when :right
        margin_box.absolute_right - width
      when Numeric
        margin_box.absolute_left + options[:position]
      else
        raise ArgumentError, &quot;Invalid option for :position&quot;
      end
      
      # we need to bust out of whatever nested bounding boxes we're in.
      canvas do
        bounding_box([left_boundary, 
                      margin_box.absolute_top], :width =&gt; width) do
          self.y = original_position
          yield
        end
      end          
    end
  end
end
</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000251" class="method-detail">
        <a name="M000251"></a>

        <div class="method-heading">
          <a href="#M000251" class="method-signature">
          <span class="method-name">start_new_page</span><span class="method-args">(options = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Creates and advances to a <a href="Document.html#M000248">new</a> <a
href="Document.html#M000250">page</a> in the document.
</p>
<p>
Page size, margins, and layout can also be set when generating a <a
href="Document.html#M000248">new</a> <a
href="Document.html#M000250">page</a>. These values will become the <a
href="Document.html#M000248">new</a> defaults for <a
href="Document.html#M000250">page</a> creation
</p>
<pre>
  pdf.start_new_page #=&gt; Starts new page keeping current values
  pdf.start_new_page(:size =&gt; &quot;LEGAL&quot;, :layout =&gt; :landscape)
  pdf.start_new_page(:left_margin =&gt; 50, :right_margin =&gt; 50)
  pdf.start_new_page(:margin =&gt; 100)
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000251-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000251-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 237</span>
     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">start_new_page</span>(<span class="ruby-identifier">options</span> = {})
       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">last_page</span> = <span class="ruby-identifier">state</span>.<span class="ruby-identifier">page</span>
         <span class="ruby-identifier">last_page_size</span>    = <span class="ruby-identifier">last_page</span>.<span class="ruby-identifier">size</span>
         <span class="ruby-identifier">last_page_layout</span>  = <span class="ruby-identifier">last_page</span>.<span class="ruby-identifier">layout</span>
         <span class="ruby-identifier">last_page_margins</span> = <span class="ruby-identifier">last_page</span>.<span class="ruby-identifier">margins</span>
       <span class="ruby-keyword kw">end</span>

       <span class="ruby-identifier">state</span>.<span class="ruby-identifier">page</span> = <span class="ruby-constant">Prawn</span><span class="ruby-operator">::</span><span class="ruby-constant">Core</span><span class="ruby-operator">::</span><span class="ruby-constant">Page</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword kw">self</span>, 
         <span class="ruby-identifier">:size</span>    =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:size</span>]   <span class="ruby-operator">||</span> <span class="ruby-identifier">last_page_size</span>, 
         <span class="ruby-identifier">:layout</span>  =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:layout</span>] <span class="ruby-operator">||</span> <span class="ruby-identifier">last_page_layout</span>,
         <span class="ruby-identifier">:margins</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">last_page_margins</span> )
  
       
       <span class="ruby-identifier">apply_margin_option</span>(<span class="ruby-identifier">options</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:margin</span>]

       [<span class="ruby-identifier">:left</span>,<span class="ruby-identifier">:right</span>,<span class="ruby-identifier">:top</span>,<span class="ruby-identifier">:bottom</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">side</span><span class="ruby-operator">|</span>
         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">margin</span> = <span class="ruby-identifier">options</span>[<span class="ruby-node">&quot;#{side}_margin&quot;</span><span class="ruby-node">&quot;#{side}_margin&quot;</span>]
           <span class="ruby-identifier">state</span>.<span class="ruby-identifier">page</span>.<span class="ruby-identifier">margins</span>[<span class="ruby-identifier">side</span>] = <span class="ruby-identifier">margin</span>
         <span class="ruby-keyword kw">end</span>
       <span class="ruby-keyword kw">end</span>

       <span class="ruby-identifier">generate_margin_box</span>

       <span class="ruby-identifier">update_colors</span>
       <span class="ruby-identifier">undash</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">dashed?</span>
      
       <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:orphan</span>]
         <span class="ruby-identifier">state</span>.<span class="ruby-identifier">insert_page</span>(<span class="ruby-identifier">state</span>.<span class="ruby-identifier">page</span>, <span class="ruby-ivar">@page_number</span>)
         <span class="ruby-ivar">@page_number</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>

         <span class="ruby-identifier">save_graphics_state</span>
        
         <span class="ruby-identifier">canvas</span> { <span class="ruby-identifier">image</span>(<span class="ruby-ivar">@background</span>, <span class="ruby-identifier">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">top_left</span>) } <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@background</span> 
         <span class="ruby-ivar">@y</span> = <span class="ruby-ivar">@bounding_box</span>.<span class="ruby-identifier">absolute_top</span>

         <span class="ruby-identifier">float</span> <span class="ruby-keyword kw">do</span>
           <span class="ruby-identifier">state</span>.<span class="ruby-identifier">on_page_create_action</span>(<span class="ruby-keyword kw">self</span>)
         <span class="ruby-keyword kw">end</span>
       <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000249" class="method-detail">
        <a name="M000249"></a>

        <div class="method-heading">
          <a href="#M000249" class="method-signature">
          <span class="method-name">state</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000249-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000249-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 219</span>
     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">state</span>
       <span class="ruby-ivar">@internal_state</span>
     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000278" class="method-detail">
        <a name="M000278"></a>

        <div class="method-heading">
          <a href="#M000278" class="method-signature">
          <span class="method-name">table</span><span class="method-args">(data, options={}, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Set up and draw a <a href="Document.html#M000278">table</a> on this
document. A block can be given, which will be run after <a
href="Document.html#M000280">cell</a> setup but before layout and drawing.
</p>
<p>
See the documentation on <a href="Table.html">Prawn::Table</a> for details
on the arguments.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000278-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000278-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/table.rb, line 24</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">table</span>(<span class="ruby-identifier">data</span>, <span class="ruby-identifier">options</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">t</span> = <span class="ruby-constant">Table</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>, <span class="ruby-keyword kw">self</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">t</span>.<span class="ruby-identifier">draw</span>
      <span class="ruby-identifier">t</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000243" class="method-detail">
        <a name="M000243"></a>

        <div class="method-heading">
          <a href="#M000243" class="method-signature">
          <span class="method-name">width_of</span><span class="method-args">(string, options={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Returns the width of the given string using the given <a
href="Document.html#M000239">font</a>. If :size is not specified as one of
the options, the string is measured using the current <a
href="Document.html#M000239">font</a> size. You can also pass :kerning as
an option to indicate whether kerning should be used when measuring the
width (defaults to <tt>false</tt>).
</p>
<p>
Note that the string <em>must</em> be encoded properly for the <a
href="Document.html#M000239">font</a> being used. For AFM fonts, this is
WinAnsi. For TTF, make sure the <a href="Document.html#M000239">font</a> is
encoded as UTF-8. You can use the <a
href="Font.html#M000211">Font#normalize_encoding</a> method to make sure
strings are in an encoding appropriate for the current <a
href="Document.html#M000239">font</a>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000243-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000243-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/font.rb, line 219</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">width_of</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>={})
      <span class="ruby-identifier">font</span>.<span class="ruby-identifier">compute_width_of</span>(<span class="ruby-identifier">string</span>, <span class="ruby-identifier">options</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000254" class="method-detail">
        <a name="M000254"></a>

        <div class="method-heading">
          <a href="#M000254" class="method-signature">
          <span class="method-name">y=</span><span class="method-args">(new_y)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000254-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000254-source">
<pre>
<span class="ruby-comment cmt"># File lib/prawn/document.rb, line 300</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">y=</span>(<span class="ruby-identifier">new_y</span>)
      <span class="ruby-ivar">@y</span> = <span class="ruby-identifier">new_y</span>
      <span class="ruby-identifier">bounds</span>.<span class="ruby-identifier">update_height</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>